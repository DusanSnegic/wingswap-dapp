"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class t extends Array{constructor(e,r){if(super(e),this.sign=r,Object.setPrototypeOf(this,t.prototype),e>t.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded")}static BigInt(e){var r=Math.floor,i=Number.isFinite;if("number"==typeof e){if(0===e)return t.__zero();if(t.__isOneDigitInt(e))return 0>e?t.__oneDigit(-e,!0):t.__oneDigit(e,!1);if(!i(e)||r(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return t.__fromDouble(e)}if("string"==typeof e){const r=t.__fromString(e);if(null===r)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return r}if("boolean"==typeof e)return!0===e?t.__oneDigit(1,!1):t.__zero();if("object"==typeof e){if(e.constructor===t)return e;const r=t.__toPrimitive(e);return t.BigInt(r)}throw new TypeError("Cannot convert "+e+" to a BigInt")}toDebugString(){const t=["BigInt["];for(const e of this)t.push((e?(e>>>0).toString(16):e)+", ");return t.push("]"),t.join("")}toString(e=10){if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":0==(e&e-1)?t.__toStringBasePowerOfTwo(this,e):t.__toStringGeneric(this,e,!1)}valueOf(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}static toNumber(e){const r=e.length;if(0===r)return 0;if(1===r){const t=e.__unsignedDigit(0);return e.sign?-t:t}const i=e.__digit(r-1),n=t.__clz30(i),o=30*r-n;if(1024<o)return e.sign?-1/0:1/0;let s=o-1,u=i,h=r-1;const a=n+3;let l=32===a?0:u<<a;l>>>=12;const f=a-12;let c=12<=a?0:u<<20+a,d=20+a;for(0<f&&0<h&&(h--,u=e.__digit(h),l|=u>>>30-f,c=u<<f+2,d=f+2);0<d&&0<h;)h--,u=e.__digit(h),c|=30<=d?u<<d-30:u>>>30-d,d-=30;const g=t.__decideRounding(e,d,h,u);if((1===g||0===g&&1==(1&c))&&(c=c+1>>>0,0===c&&(l++,0!=l>>>20&&(l=0,s++,1023<s))))return e.sign?-1/0:1/0;const p=e.sign?-2147483648:0;return s=s+1023<<20,t.__kBitConversionInts[1]=p|s|l,t.__kBitConversionInts[0]=c,t.__kBitConversionDouble[0]}static unaryMinus(t){if(0===t.length)return t;const e=t.__copy();return e.sign=!t.sign,e}static bitwiseNot(e){return e.sign?t.__absoluteSubOne(e).__trim():t.__absoluteAddOne(e,!0)}static exponentiate(e,r){if(r.sign)throw new RangeError("Exponent must be positive");if(0===r.length)return t.__oneDigit(1,!1);if(0===e.length)return e;if(1===e.length&&1===e.__digit(0))return e.sign&&0==(1&r.__digit(0))?t.unaryMinus(e):e;if(1<r.length)throw new RangeError("BigInt too big");let i=r.__unsignedDigit(0);if(1===i)return e;if(i>=t.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===e.length&&2===e.__digit(0)){const r=1+(0|i/30),n=e.sign&&0!=(1&i),o=new t(r,n);o.__initializeDigits();const s=1<<i%30;return o.__setDigit(r-1,s),o}let n=null,o=e;for(0!=(1&i)&&(n=e),i>>=1;0!==i;i>>=1)o=t.multiply(o,o),0!=(1&i)&&(n=null===n?o:t.multiply(n,o));return n}static multiply(e,r){if(0===e.length)return e;if(0===r.length)return r;let i=e.length+r.length;30<=e.__clzmsd()+r.__clzmsd()&&i--;const n=new t(i,e.sign!==r.sign);n.__initializeDigits();for(let i=0;i<e.length;i++)t.__multiplyAccumulate(r,e.__digit(i),n,i);return n.__trim()}static divide(e,r){if(0===r.length)throw new RangeError("Division by zero");if(0>t.__absoluteCompare(e,r))return t.__zero();const i=e.sign!==r.sign,n=r.__unsignedDigit(0);let o;if(1===r.length&&32767>=n){if(1===n)return i===e.sign?e:t.unaryMinus(e);o=t.__absoluteDivSmall(e,n,null)}else o=t.__absoluteDivLarge(e,r,!0,!1);return o.sign=i,o.__trim()}static remainder(e,r){if(0===r.length)throw new RangeError("Division by zero");if(0>t.__absoluteCompare(e,r))return e;const i=r.__unsignedDigit(0);if(1===r.length&&32767>=i){if(1===i)return t.__zero();const r=t.__absoluteModSmall(e,i);return 0===r?t.__zero():t.__oneDigit(r,e.sign)}const n=t.__absoluteDivLarge(e,r,!1,!0);return n.sign=e.sign,n.__trim()}static add(e,r){const i=e.sign;return i===r.sign?t.__absoluteAdd(e,r,i):0<=t.__absoluteCompare(e,r)?t.__absoluteSub(e,r,i):t.__absoluteSub(r,e,!i)}static subtract(e,r){const i=e.sign;return i===r.sign?0<=t.__absoluteCompare(e,r)?t.__absoluteSub(e,r,i):t.__absoluteSub(r,e,!i):t.__absoluteAdd(e,r,i)}static leftShift(e,r){return 0===r.length||0===e.length?e:r.sign?t.__rightShiftByAbsolute(e,r):t.__leftShiftByAbsolute(e,r)}static signedRightShift(e,r){return 0===r.length||0===e.length?e:r.sign?t.__leftShiftByAbsolute(e,r):t.__rightShiftByAbsolute(e,r)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(e,r){return 0>t.__compareToBigInt(e,r)}static lessThanOrEqual(e,r){return 0>=t.__compareToBigInt(e,r)}static greaterThan(e,r){return 0<t.__compareToBigInt(e,r)}static greaterThanOrEqual(e,r){return 0<=t.__compareToBigInt(e,r)}static equal(t,e){if(t.sign!==e.sign)return!1;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t.__digit(r)!==e.__digit(r))return!1;return!0}static notEqual(e,r){return!t.equal(e,r)}static bitwiseAnd(e,r){var i=Math.max;if(!e.sign&&!r.sign)return t.__absoluteAnd(e,r).__trim();if(e.sign&&r.sign){const n=i(e.length,r.length)+1;let o=t.__absoluteSubOne(e,n);const s=t.__absoluteSubOne(r);return o=t.__absoluteOr(o,s,o),t.__absoluteAddOne(o,!0,o).__trim()}return e.sign&&([e,r]=[r,e]),t.__absoluteAndNot(e,t.__absoluteSubOne(r)).__trim()}static bitwiseXor(e,r){var i=Math.max;if(!e.sign&&!r.sign)return t.__absoluteXor(e,r).__trim();if(e.sign&&r.sign){const n=i(e.length,r.length),o=t.__absoluteSubOne(e,n),s=t.__absoluteSubOne(r);return t.__absoluteXor(o,s,o).__trim()}const n=i(e.length,r.length)+1;e.sign&&([e,r]=[r,e]);let o=t.__absoluteSubOne(r,n);return o=t.__absoluteXor(o,e,o),t.__absoluteAddOne(o,!0,o).__trim()}static bitwiseOr(e,r){const i=(0,Math.max)(e.length,r.length);if(!e.sign&&!r.sign)return t.__absoluteOr(e,r).__trim();if(e.sign&&r.sign){let n=t.__absoluteSubOne(e,i);const o=t.__absoluteSubOne(r);return n=t.__absoluteAnd(n,o,n),t.__absoluteAddOne(n,!0,n).__trim()}e.sign&&([e,r]=[r,e]);let n=t.__absoluteSubOne(r,i);return n=t.__absoluteAndNot(n,e,n),t.__absoluteAddOne(n,!0,n).__trim()}static asIntN(e,r){var i=Math.floor;if(0===r.length)return r;if(0>(e=i(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return t.__zero();if(e>=t.__kMaxLengthBits)return r;const n=0|(e+29)/30;if(r.length<n)return r;const o=r.__unsignedDigit(n-1),s=1<<(e-1)%30;if(r.length===n&&o<s)return r;if((o&s)!==s)return t.__truncateToNBits(e,r);if(!r.sign)return t.__truncateAndSubFromPowerOfTwo(e,r,!0);if(0==(o&s-1)){for(let i=n-2;0<=i;i--)if(0!==r.__digit(i))return t.__truncateAndSubFromPowerOfTwo(e,r,!1);return r.length===n&&o===s?r:t.__truncateToNBits(e,r)}return t.__truncateAndSubFromPowerOfTwo(e,r,!1)}static asUintN(e,r){var i=Math.floor;if(0===r.length)return r;if(0>(e=i(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return t.__zero();if(r.sign){if(e>t.__kMaxLengthBits)throw new RangeError("BigInt too big");return t.__truncateAndSubFromPowerOfTwo(e,r,!1)}if(e>=t.__kMaxLengthBits)return r;const n=0|(e+29)/30;if(r.length<n)return r;const o=e%30;if(r.length==n){if(0===o)return r;if(0==r.__digit(n-1)>>>o)return r}return t.__truncateToNBits(e,r)}static ADD(e,r){if(e=t.__toPrimitive(e),r=t.__toPrimitive(r),"string"==typeof e)return"string"!=typeof r&&(r=r.toString()),e+r;if("string"==typeof r)return e.toString()+r;if(e=t.__toNumeric(e),r=t.__toNumeric(r),t.__isBigInt(e)&&t.__isBigInt(r))return t.add(e,r);if("number"==typeof e&&"number"==typeof r)return e+r;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(e,r){return t.__compare(e,r,0)}static LE(e,r){return t.__compare(e,r,1)}static GT(e,r){return t.__compare(e,r,2)}static GE(e,r){return t.__compare(e,r,3)}static EQ(e,r){for(;;){if(t.__isBigInt(e))return t.__isBigInt(r)?t.equal(e,r):t.EQ(r,e);if("number"==typeof e){if(t.__isBigInt(r))return t.__equalToNumber(r,e);if("object"!=typeof r)return e==r;r=t.__toPrimitive(r)}else if("string"==typeof e){if(t.__isBigInt(r))return null!==(e=t.__fromString(e))&&t.equal(e,r);if("object"!=typeof r)return e==r;r=t.__toPrimitive(r)}else if("boolean"==typeof e){if(t.__isBigInt(r))return t.__equalToNumber(r,+e);if("object"!=typeof r)return e==r;r=t.__toPrimitive(r)}else if("symbol"==typeof e){if(t.__isBigInt(r))return!1;if("object"!=typeof r)return e==r;r=t.__toPrimitive(r)}else{if("object"!=typeof e)return e==r;if("object"==typeof r&&r.constructor!==t)return e==r;e=t.__toPrimitive(e)}}}static NE(e,r){return!t.EQ(e,r)}static __zero(){return new t(0,!1)}static __oneDigit(e,r){const i=new t(1,r);return i.__setDigit(0,e),i}__copy(){const e=new t(this.length,this.sign);for(let t=0;t<this.length;t++)e[t]=this[t];return e}__trim(){let t=this.length,e=this[t-1];for(;0===e;)t--,e=this[t-1],this.pop();return 0===t&&(this.sign=!1),this}__initializeDigits(){for(let t=0;t<this.length;t++)this[t]=0}static __decideRounding(t,e,r,i){if(0<e)return-1;let n;if(0>e)n=-e-1;else{if(0===r)return-1;r--,i=t.__digit(r),n=29}let o=1<<n;if(0==(i&o))return-1;if(o-=1,0!=(i&o))return 1;for(;0<r;)if(r--,0!==t.__digit(r))return 1;return 0}static __fromDouble(e){t.__kBitConversionDouble[0]=e;const r=(2047&t.__kBitConversionInts[1]>>>20)-1023,i=1+(0|r/30),n=new t(i,0>e);let o=1048575&t.__kBitConversionInts[1]|1048576,s=t.__kBitConversionInts[0];const u=r%30;let h,a=0;if(u<20){const t=20-u;a=t+32,h=o>>>t,o=o<<32-t|s>>>t,s<<=32-t}else if(20===u)a=32,h=o,o=s,s=0;else{const t=u-20;a=32-t,h=o<<t|s>>>32-t,o=s<<t,s=0}n.__setDigit(i-1,h);for(let t=i-2;0<=t;t--)0<a?(a-=30,h=o>>>2,o=o<<30|s>>>2,s<<=30):h=0,n.__setDigit(t,h);return n.__trim()}static __isWhitespace(t){return!!(13>=t&&9<=t)||(159>=t?32==t:131071>=t?160==t||5760==t:196607>=t?10>=(t&=131071)||40==t||41==t||47==t||95==t||4096==t:65279==t)}static __fromString(e,r=0){let i=0;const n=e.length;let o=0;if(o===n)return t.__zero();let s=e.charCodeAt(o);for(;t.__isWhitespace(s);){if(++o===n)return t.__zero();s=e.charCodeAt(o)}if(43===s){if(++o===n)return null;s=e.charCodeAt(o),i=1}else if(45===s){if(++o===n)return null;s=e.charCodeAt(o),i=-1}if(0===r){if(r=10,48===s){if(++o===n)return t.__zero();if(s=e.charCodeAt(o),88===s||120===s){if(r=16,++o===n)return null;s=e.charCodeAt(o)}else if(79===s||111===s){if(r=8,++o===n)return null;s=e.charCodeAt(o)}else if(66===s||98===s){if(r=2,++o===n)return null;s=e.charCodeAt(o)}}}else if(16===r&&48===s){if(++o===n)return t.__zero();if(s=e.charCodeAt(o),88===s||120===s){if(++o===n)return null;s=e.charCodeAt(o)}}if(0!=i&&10!==r)return null;for(;48===s;){if(++o===n)return t.__zero();s=e.charCodeAt(o)}const u=n-o;let h=t.__kMaxBitsPerChar[r],a=t.__kBitsPerCharTableMultiplier-1;if(u>1073741824/h)return null;const l=h*u+a>>>t.__kBitsPerCharTableShift,f=new t(0|(l+29)/30,!1),c=10>r?r:10,d=10<r?r-10:0;if(0==(r&r-1)){h>>=t.__kBitsPerCharTableShift;const r=[],i=[];let u=!1;do{let t=0,a=0;for(;;){let r;if(s-48>>>0<c)r=s-48;else{if(!((32|s)-97>>>0<d)){u=!0;break}r=(32|s)-87}if(a+=h,t=t<<h|r,++o===n){u=!0;break}if(s=e.charCodeAt(o),30<a+h)break}r.push(t),i.push(a)}while(!u);t.__fillFromParts(f,r,i)}else{f.__initializeDigits();let i=!1,u=0;do{let l=0,g=1;for(;;){let t;if(s-48>>>0<c)t=s-48;else{if(!((32|s)-97>>>0<d)){i=!0;break}t=(32|s)-87}const h=g*r;if(1073741823<h)break;if(g=h,l=l*r+t,u++,++o===n){i=!0;break}s=e.charCodeAt(o)}a=30*t.__kBitsPerCharTableMultiplier-1;const p=0|(h*u+a>>>t.__kBitsPerCharTableShift)/30;f.__inplaceMultiplyAdd(g,l,p)}while(!i)}if(o!==n){if(!t.__isWhitespace(s))return null;for(o++;o<n;o++)if(s=e.charCodeAt(o),!t.__isWhitespace(s))return null}return f.sign=-1==i,f.__trim()}static __fillFromParts(t,e,r){let i=0,n=0,o=0;for(let s=e.length-1;0<=s;s--){const u=e[s],h=r[s];n|=u<<o,o+=h,30===o?(t.__setDigit(i++,n),o=0,n=0):30<o&&(t.__setDigit(i++,1073741823&n),o-=30,n=u>>>h-o)}if(0!==n){if(i>=t.length)throw new Error("implementation bug");t.__setDigit(i++,n)}for(;i<t.length;i++)t.__setDigit(i,0)}static __toStringBasePowerOfTwo(e,r){const i=e.length;let n=r-1;n=(85&n>>>1)+(85&n),n=(51&n>>>2)+(51&n),n=(15&n>>>4)+(15&n);const o=n,s=r-1,u=e.__digit(i-1);let h=0|(30*i-t.__clz30(u)+o-1)/o;if(e.sign&&h++,268435456<h)throw new Error("string too long");const a=Array(h);let l=h-1,f=0,c=0;for(let r=0;r<i-1;r++){const i=e.__digit(r),n=(f|i<<c)&s;a[l--]=t.__kConversionChars[n];const u=o-c;for(f=i>>>u,c=30-u;c>=o;)a[l--]=t.__kConversionChars[f&s],f>>>=o,c-=o}const d=(f|u<<c)&s;for(a[l--]=t.__kConversionChars[d],f=u>>>o-c;0!==f;)a[l--]=t.__kConversionChars[f&s],f>>>=o;if(e.sign&&(a[l--]="-"),-1!=l)throw new Error("implementation bug");return a.join("")}static __toStringGeneric(e,r,i){const n=e.length;if(0===n)return"";if(1===n){let t=e.__unsignedDigit(0).toString(r);return!1===i&&e.sign&&(t="-"+t),t}const o=30*n-t.__clz30(e.__digit(n-1)),s=t.__kMaxBitsPerChar[r]-1;let u=o*t.__kBitsPerCharTableMultiplier;u+=s-1,u=0|u/s;const h=u+1>>1,a=t.exponentiate(t.__oneDigit(r,!1),t.__oneDigit(h,!1));let l,f;const c=a.__unsignedDigit(0);if(1===a.length&&32767>=c){l=new t(e.length,!1),l.__initializeDigits();let i=0;for(let t=2*e.length-1;0<=t;t--){const r=i<<15|e.__halfDigit(t);l.__setHalfDigit(t,0|r/c),i=0|r%c}f=i.toString(r)}else{const i=t.__absoluteDivLarge(e,a,!0,!0);l=i.quotient;const n=i.remainder.__trim();f=t.__toStringGeneric(n,r,!0)}l.__trim();let d=t.__toStringGeneric(l,r,!0);for(;f.length<h;)f="0"+f;return!1===i&&e.sign&&(d="-"+d),d+f}static __unequalSign(t){return t?-1:1}static __absoluteGreater(t){return t?-1:1}static __absoluteLess(t){return t?1:-1}static __compareToBigInt(e,r){const i=e.sign;if(i!==r.sign)return t.__unequalSign(i);const n=t.__absoluteCompare(e,r);return 0<n?t.__absoluteGreater(i):0>n?t.__absoluteLess(i):0}static __compareToNumber(e,r){if(t.__isOneDigitInt(r)){const i=e.sign,n=0>r;if(i!==n)return t.__unequalSign(i);if(0===e.length){if(n)throw new Error("implementation bug");return 0===r?0:-1}if(1<e.length)return t.__absoluteGreater(i);const o=Math.abs(r),s=e.__unsignedDigit(0);return s>o?t.__absoluteGreater(i):s<o?t.__absoluteLess(i):0}return t.__compareToDouble(e,r)}static __compareToDouble(e,r){if(r!=r)return r;if(r===1/0)return-1;if(r===-1/0)return 1;const i=e.sign;if(i!==0>r)return t.__unequalSign(i);if(0===r)throw new Error("implementation bug: should be handled elsewhere");if(0===e.length)return-1;t.__kBitConversionDouble[0]=r;const n=2047&t.__kBitConversionInts[1]>>>20;if(2047==n)throw new Error("implementation bug: handled elsewhere");const o=n-1023;if(0>o)return t.__absoluteGreater(i);const s=e.length;let u=e.__digit(s-1);const h=t.__clz30(u),a=30*s-h,l=o+1;if(a<l)return t.__absoluteLess(i);if(a>l)return t.__absoluteGreater(i);let f=1048576|1048575&t.__kBitConversionInts[1],c=t.__kBitConversionInts[0];const d=29-h;if(d!==(0|(a-1)%30))throw new Error("implementation bug");let g,p=0;if(20>d){const t=20-d;p=t+32,g=f>>>t,f=f<<32-t|c>>>t,c<<=32-t}else if(20===d)p=32,g=f,f=c,c=0;else{const t=d-20;p=32-t,g=f<<t|c>>>32-t,f=c<<t,c=0}if(u>>>=0,g>>>=0,u>g)return t.__absoluteGreater(i);if(u<g)return t.__absoluteLess(i);for(let r=s-2;0<=r;r--){0<p?(p-=30,g=f>>>2,f=f<<30|c>>>2,c<<=30):g=0;const n=e.__unsignedDigit(r);if(n>g)return t.__absoluteGreater(i);if(n<g)return t.__absoluteLess(i)}if(0!==f||0!==c){if(0===p)throw new Error("implementation bug");return t.__absoluteLess(i)}return 0}static __equalToNumber(e,r){var i=Math.abs;return t.__isOneDigitInt(r)?0===r?0===e.length:1===e.length&&e.sign===0>r&&e.__unsignedDigit(0)===i(r):0===t.__compareToDouble(e,r)}static __comparisonResultToBool(t,e){return 0===e?0>t:1===e?0>=t:2===e?0<t:3===e?0<=t:void 0}static __compare(e,r,i){if(e=t.__toPrimitive(e),r=t.__toPrimitive(r),"string"==typeof e&&"string"==typeof r)switch(i){case 0:return e<r;case 1:return e<=r;case 2:return e>r;case 3:return e>=r}if(t.__isBigInt(e)&&"string"==typeof r)return null!==(r=t.__fromString(r))&&t.__comparisonResultToBool(t.__compareToBigInt(e,r),i);if("string"==typeof e&&t.__isBigInt(r))return null!==(e=t.__fromString(e))&&t.__comparisonResultToBool(t.__compareToBigInt(e,r),i);if(e=t.__toNumeric(e),r=t.__toNumeric(r),t.__isBigInt(e)){if(t.__isBigInt(r))return t.__comparisonResultToBool(t.__compareToBigInt(e,r),i);if("number"!=typeof r)throw new Error("implementation bug");return t.__comparisonResultToBool(t.__compareToNumber(e,r),i)}if("number"!=typeof e)throw new Error("implementation bug");if(t.__isBigInt(r))return t.__comparisonResultToBool(t.__compareToNumber(r,e),2^i);if("number"!=typeof r)throw new Error("implementation bug");return 0===i?e<r:1===i?e<=r:2===i?e>r:3===i?e>=r:void 0}__clzmsd(){return t.__clz30(this.__digit(this.length-1))}static __absoluteAdd(e,r,i){if(e.length<r.length)return t.__absoluteAdd(r,e,i);if(0===e.length)return e;if(0===r.length)return e.sign===i?e:t.unaryMinus(e);let n=e.length;(0===e.__clzmsd()||r.length===e.length&&0===r.__clzmsd())&&n++;const o=new t(n,i);let s=0,u=0;for(;u<r.length;u++){const t=e.__digit(u)+r.__digit(u)+s;s=t>>>30,o.__setDigit(u,1073741823&t)}for(;u<e.length;u++){const t=e.__digit(u)+s;s=t>>>30,o.__setDigit(u,1073741823&t)}return u<o.length&&o.__setDigit(u,s),o.__trim()}static __absoluteSub(e,r,i){if(0===e.length)return e;if(0===r.length)return e.sign===i?e:t.unaryMinus(e);const n=new t(e.length,i);let o=0,s=0;for(;s<r.length;s++){const t=e.__digit(s)-r.__digit(s)-o;o=1&t>>>30,n.__setDigit(s,1073741823&t)}for(;s<e.length;s++){const t=e.__digit(s)-o;o=1&t>>>30,n.__setDigit(s,1073741823&t)}return n.__trim()}static __absoluteAddOne(e,r,i=null){const n=e.length;null===i?i=new t(n,r):i.sign=r;let o=1;for(let t=0;t<n;t++){const r=e.__digit(t)+o;o=r>>>30,i.__setDigit(t,1073741823&r)}return 0!=o&&i.__setDigitGrow(n,1),i}static __absoluteSubOne(e,r){const i=e.length,n=new t(r=r||i,!1);let o=1;for(let t=0;t<i;t++){const r=e.__digit(t)-o;o=1&r>>>30,n.__setDigit(t,1073741823&r)}if(0!=o)throw new Error("implementation bug");for(let t=i;t<r;t++)n.__setDigit(t,0);return n}static __absoluteAnd(e,r,i=null){let n=e.length,o=r.length,s=o;if(n<o){s=n;const t=e,i=n;e=r,n=o,r=t,o=i}let u=s;null===i?i=new t(u,!1):u=i.length;let h=0;for(;h<s;h++)i.__setDigit(h,e.__digit(h)&r.__digit(h));for(;h<u;h++)i.__setDigit(h,0);return i}static __absoluteAndNot(e,r,i=null){const n=e.length,o=r.length;let s=o;n<o&&(s=n);let u=n;null===i?i=new t(u,!1):u=i.length;let h=0;for(;h<s;h++)i.__setDigit(h,e.__digit(h)&~r.__digit(h));for(;h<n;h++)i.__setDigit(h,e.__digit(h));for(;h<u;h++)i.__setDigit(h,0);return i}static __absoluteOr(e,r,i=null){let n=e.length,o=r.length,s=o;if(n<o){s=n;const t=e,i=n;e=r,n=o,r=t,o=i}let u=n;null===i?i=new t(u,!1):u=i.length;let h=0;for(;h<s;h++)i.__setDigit(h,e.__digit(h)|r.__digit(h));for(;h<n;h++)i.__setDigit(h,e.__digit(h));for(;h<u;h++)i.__setDigit(h,0);return i}static __absoluteXor(e,r,i=null){let n=e.length,o=r.length,s=o;if(n<o){s=n;const t=e,i=n;e=r,n=o,r=t,o=i}let u=n;null===i?i=new t(u,!1):u=i.length;let h=0;for(;h<s;h++)i.__setDigit(h,e.__digit(h)^r.__digit(h));for(;h<n;h++)i.__setDigit(h,e.__digit(h));for(;h<u;h++)i.__setDigit(h,0);return i}static __absoluteCompare(t,e){const r=t.length-e.length;if(0!=r)return r;let i=t.length-1;for(;0<=i&&t.__digit(i)===e.__digit(i);)i--;return 0>i?0:t.__unsignedDigit(i)>e.__unsignedDigit(i)?1:-1}static __multiplyAccumulate(e,r,i,n){if(0===r)return;const o=32767&r,s=r>>>15;let u=0,h=0;for(let r,a=0;a<e.length;a++,n++){r=i.__digit(n);const l=e.__digit(a),f=32767&l,c=l>>>15,d=t.__imul(f,o),g=t.__imul(f,s),p=t.__imul(c,o),m=t.__imul(c,s);r+=h+d+u,u=r>>>30,r&=1073741823,r+=((32767&g)<<15)+((32767&p)<<15),u+=r>>>30,h=m+(g>>>15)+(p>>>15),i.__setDigit(n,1073741823&r)}for(;0!=u||0!==h;n++){let t=i.__digit(n);t+=u+h,h=0,u=t>>>30,i.__setDigit(n,1073741823&t)}}static __internalMultiplyAdd(e,r,i,n,o){let s=i,u=0;for(let i=0;i<n;i++){const n=e.__digit(i),h=t.__imul(32767&n,r),a=t.__imul(n>>>15,r),l=h+((32767&a)<<15)+u+s;s=l>>>30,u=a>>>15,o.__setDigit(i,1073741823&l)}if(o.length>n)for(o.__setDigit(n++,s+u);n<o.length;)o.__setDigit(n++,0);else if(0!==s+u)throw new Error("implementation bug")}__inplaceMultiplyAdd(e,r,i){i>this.length&&(i=this.length);const n=32767&e,o=e>>>15;let s=0,u=r;for(let e=0;e<i;e++){const r=this.__digit(e),i=32767&r,h=r>>>15,a=t.__imul(i,n),l=t.__imul(i,o),f=t.__imul(h,n),c=t.__imul(h,o);let d=u+a+s;s=d>>>30,d&=1073741823,d+=((32767&l)<<15)+((32767&f)<<15),s+=d>>>30,u=c+(l>>>15)+(f>>>15),this.__setDigit(e,1073741823&d)}if(0!=s||0!==u)throw new Error("implementation bug")}static __absoluteDivSmall(e,r,i=null){null===i&&(i=new t(e.length,!1));let n=0;for(let t,o=2*e.length-1;0<=o;o-=2){t=(n<<15|e.__halfDigit(o))>>>0;const s=0|t/r;n=0|t%r,t=(n<<15|e.__halfDigit(o-1))>>>0;const u=0|t/r;n=0|t%r,i.__setDigit(o>>>1,s<<15|u)}return i}static __absoluteModSmall(t,e){let r=0;for(let i=2*t.length-1;0<=i;i--){r=0|((r<<15|t.__halfDigit(i))>>>0)%e}return r}static __absoluteDivLarge(e,r,i,n){const o=r.__halfDigitLength(),s=r.length,u=e.__halfDigitLength()-o;let h=null;i&&(h=new t(u+2>>>1,!1),h.__initializeDigits());const a=new t(o+2>>>1,!1);a.__initializeDigits();const l=t.__clz15(r.__halfDigit(o-1));0<l&&(r=t.__specialLeftShift(r,l,0));const f=t.__specialLeftShift(e,l,1),c=r.__halfDigit(o-1);let d=0;for(let e,n=u;0<=n;n--){e=32767;const u=f.__halfDigit(n+o);if(u!==c){const i=(u<<15|f.__halfDigit(n+o-1))>>>0;e=0|i/c;let s=0|i%c;const h=r.__halfDigit(o-2),a=f.__halfDigit(n+o-2);for(;t.__imul(e,h)>>>0>(s<<16|a)>>>0&&(e--,s+=c,!(32767<s)););}t.__internalMultiplyAdd(r,e,0,s,a);let l=f.__inplaceSub(a,n,o+1);0!==l&&(l=f.__inplaceAdd(r,n,o),f.__setHalfDigit(n+o,32767&f.__halfDigit(n+o)+l),e--),i&&(1&n?d=e<<15:h.__setDigit(n>>>1,d|e))}if(n)return f.__inplaceRightShift(l),i?{quotient:h,remainder:f}:f;if(i)return h;throw new Error("unreachable")}static __clz15(e){return t.__clz30(e)-15}__inplaceAdd(t,e,r){let i=0;for(let n=0;n<r;n++){const r=this.__halfDigit(e+n)+t.__halfDigit(n)+i;i=r>>>15,this.__setHalfDigit(e+n,32767&r)}return i}__inplaceSub(t,e,r){let i=0;if(1&e){e>>=1;let n=this.__digit(e),o=32767&n,s=0;for(;s<r-1>>>1;s++){const r=t.__digit(s),u=(n>>>15)-(32767&r)-i;i=1&u>>>15,this.__setDigit(e+s,(32767&u)<<15|32767&o),n=this.__digit(e+s+1),o=(32767&n)-(r>>>15)-i,i=1&o>>>15}const u=t.__digit(s),h=(n>>>15)-(32767&u)-i;if(i=1&h>>>15,this.__setDigit(e+s,(32767&h)<<15|32767&o),e+s+1>=this.length)throw new RangeError("out of bounds");0==(1&r)&&(n=this.__digit(e+s+1),o=(32767&n)-(u>>>15)-i,i=1&o>>>15,this.__setDigit(e+t.length,1073709056&n|32767&o))}else{e>>=1;let n=0;for(;n<t.length-1;n++){const r=this.__digit(e+n),o=t.__digit(n),s=(32767&r)-(32767&o)-i;i=1&s>>>15;const u=(r>>>15)-(o>>>15)-i;i=1&u>>>15,this.__setDigit(e+n,(32767&u)<<15|32767&s)}const o=this.__digit(e+n),s=t.__digit(n),u=(32767&o)-(32767&s)-i;i=1&u>>>15;let h=0;0==(1&r)&&(h=(o>>>15)-(s>>>15)-i,i=1&h>>>15),this.__setDigit(e+n,(32767&h)<<15|32767&u)}return i}__inplaceRightShift(t){if(0===t)return;let e=this.__digit(0)>>>t;const r=this.length-1;for(let i=0;i<r;i++){const r=this.__digit(i+1);this.__setDigit(i,1073741823&r<<30-t|e),e=r>>>t}this.__setDigit(r,e)}static __specialLeftShift(e,r,i){const n=e.length,o=new t(n+i,!1);if(0===r){for(let t=0;t<n;t++)o.__setDigit(t,e.__digit(t));return 0<i&&o.__setDigit(n,0),o}let s=0;for(let t=0;t<n;t++){const i=e.__digit(t);o.__setDigit(t,1073741823&i<<r|s),s=i>>>30-r}return 0<i&&o.__setDigit(n,s),o}static __leftShiftByAbsolute(e,r){const i=t.__toShiftAmount(r);if(0>i)throw new RangeError("BigInt too big");const n=0|i/30,o=i%30,s=e.length,u=0!==o&&0!=e.__digit(s-1)>>>30-o,h=s+n+(u?1:0),a=new t(h,e.sign);if(0===o){let t=0;for(;t<n;t++)a.__setDigit(t,0);for(;t<h;t++)a.__setDigit(t,e.__digit(t-n))}else{let t=0;for(let t=0;t<n;t++)a.__setDigit(t,0);for(let r=0;r<s;r++){const i=e.__digit(r);a.__setDigit(r+n,1073741823&i<<o|t),t=i>>>30-o}if(u)a.__setDigit(s+n,t);else if(0!==t)throw new Error("implementation bug")}return a.__trim()}static __rightShiftByAbsolute(e,r){const i=e.length,n=e.sign,o=t.__toShiftAmount(r);if(0>o)return t.__rightShiftByMaximum(n);const s=0|o/30,u=o%30;let h=i-s;if(0>=h)return t.__rightShiftByMaximum(n);let a=!1;if(n)if(0!=(e.__digit(s)&(1<<u)-1))a=!0;else for(let t=0;t<s;t++)if(0!==e.__digit(t)){a=!0;break}if(a&&0===u){0==~e.__digit(i-1)&&h++}let l=new t(h,n);if(0===u){l.__setDigit(h-1,0);for(let t=s;t<i;t++)l.__setDigit(t-s,e.__digit(t))}else{let t=e.__digit(s)>>>u;const r=i-s-1;for(let i=0;i<r;i++){const r=e.__digit(i+s+1);l.__setDigit(i,1073741823&r<<30-u|t),t=r>>>u}l.__setDigit(r,t)}return a&&(l=t.__absoluteAddOne(l,!0,l)),l.__trim()}static __rightShiftByMaximum(e){return e?t.__oneDigit(1,!0):t.__zero()}static __toShiftAmount(e){if(1<e.length)return-1;const r=e.__unsignedDigit(0);return r>t.__kMaxLengthBits?-1:r}static __toPrimitive(e,r="default"){if("object"!=typeof e)return e;if(e.constructor===t)return e;if("undefined"!=typeof Symbol&&"symbol"==typeof Symbol.toPrimitive){const t=e[Symbol.toPrimitive];if(t){const e=t(r);if("object"!=typeof e)return e;throw new TypeError("Cannot convert object to primitive value")}}const i=e.valueOf;if(i){const t=i.call(e);if("object"!=typeof t)return t}const n=e.toString;if(n){const t=n.call(e);if("object"!=typeof t)return t}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(e){return t.__isBigInt(e)?e:+e}static __isBigInt(e){return"object"==typeof e&&null!==e&&e.constructor===t}static __truncateToNBits(e,r){const i=0|(e+29)/30,n=new t(i,r.sign),o=i-1;for(let t=0;t<o;t++)n.__setDigit(t,r.__digit(t));let s=r.__digit(o);if(0!=e%30){const t=32-e%30;s=s<<t>>>t}return n.__setDigit(o,s),n.__trim()}static __truncateAndSubFromPowerOfTwo(e,r,i){var n=Math.min;const o=0|(e+29)/30,s=new t(o,i);let u=0;const h=o-1;let a=0;for(const t=n(h,r.length);u<t;u++){const t=0-r.__digit(u)-a;a=1&t>>>30,s.__setDigit(u,1073741823&t)}for(;u<h;u++)s.__setDigit(u,0|1073741823&-a);let l=h<r.length?r.__digit(h):0;const f=e%30;let c;if(0==f)c=0-l-a,c&=1073741823;else{const t=32-f;l=l<<t>>>t;const e=1<<32-t;c=e-l-a,c&=e-1}return s.__setDigit(h,c),s.__trim()}__digit(t){return this[t]}__unsignedDigit(t){return this[t]>>>0}__setDigit(t,e){this[t]=0|e}__setDigitGrow(t,e){this[t]=0|e}__halfDigitLength(){const t=this.length;return 32767>=this.__unsignedDigit(t-1)?2*t-1:2*t}__halfDigit(t){return 32767&this[t>>>1]>>>15*(1&t)}__setHalfDigit(t,e){const r=t>>>1,i=this.__digit(r),n=1&t?32767&i|e<<15:1073709056&i|32767&e;this.__setDigit(r,n)}static __digitPow(t,e){let r=1;for(;0<e;)1&e&&(r*=t),e>>>=1,t*=t;return r}static __isOneDigitInt(t){return(1073741823&t)===t}}var e;t.__kMaxLength=33554432,t.__kMaxLengthBits=t.__kMaxLength<<5,t.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],t.__kBitsPerCharTableShift=5,t.__kBitsPerCharTableMultiplier=1<<t.__kBitsPerCharTableShift,t.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.__kBitConversionBuffer=new ArrayBuffer(8),t.__kBitConversionDouble=new Float64Array(t.__kBitConversionBuffer),t.__kBitConversionInts=new Int32Array(t.__kBitConversionBuffer),t.__clz30=Math.clz32?function(t){return Math.clz32(t)-2}:function(t){return 0===t?30:0|29-(0|Math.log(t>>>0)/Math.LN2)},t.__imul=Math.imul||function(t,e){return 0|t*e},exports.SupportedChainId=void 0,(e=exports.SupportedChainId||(exports.SupportedChainId={}))[e.MAINNET=1]="MAINNET",e[e.ROPSTEN=3]="ROPSTEN",e[e.RINKEBY=4]="RINKEBY",e[e["GÖRLI"]=5]="GÖRLI",e[e.KOVAN=42]="KOVAN",e[e.SMART_CHAIN=56]="SMART_CHAIN",e[e.MUMBAI=80001]="MUMBAI";const r=t.BigInt(1e3),i=t.BigInt(0),n=t.BigInt(1),o=t.BigInt(5),s=t.BigInt(997),u=t.BigInt(1e3);var h,a;exports.TradeType=void 0,(h=exports.TradeType||(exports.TradeType={}))[h.EXACT_INPUT=0]="EXACT_INPUT",h[h.EXACT_OUTPUT=1]="EXACT_OUTPUT",exports.Rounding=void 0,(a=exports.Rounding||(exports.Rounding={}))[a.ROUND_DOWN=0]="ROUND_DOWN",a[a.ROUND_HALF_UP=1]="ROUND_HALF_UP",a[a.ROUND_UP=2]="ROUND_UP";const l=t.BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),f={[exports.SupportedChainId.MAINNET]:"0x96e8ac4277198ff8b6f785478aa9a39f403cb768dd02cbee326c3e7da348845f",[exports.SupportedChainId.ROPSTEN]:"0x0000000000000000000000000000000000000000000000000000000000000000",[exports.SupportedChainId.RINKEBY]:"0xc504c260b7a99152dcc258f5a6f9e6628e16e080e46a2cf586d8889d33f02a9c",[exports.SupportedChainId.GÖRLI]:"0x0000000000000000000000000000000000000000000000000000000000000000",[exports.SupportedChainId.KOVAN]:"0x0000000000000000000000000000000000000000000000000000000000000000",[exports.SupportedChainId.SMART_CHAIN]:"0x24227d5d80b326955a06f042307d2b6cba99f5b543d5ccb838ea7dd07f0ae49b",[exports.SupportedChainId.MUMBAI]:"0x0000000000000000000000000000000000000000000000000000000000000000"},c={[exports.SupportedChainId.MAINNET]:"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",[exports.SupportedChainId.ROPSTEN]:"0x0000000000000000000000000000000000000000",[exports.SupportedChainId.RINKEBY]:"0x97c4ab76e6818FaA20Bc75D18B59b3F99685e2cf",[exports.SupportedChainId.GÖRLI]:"0x0000000000000000000000000000000000000000",[exports.SupportedChainId.KOVAN]:"0x0000000000000000000000000000000000000000",[exports.SupportedChainId.SMART_CHAIN]:"0x250F5C1033647dcCB0c4F63DBcA6FDDc73a2699E",[exports.SupportedChainId.MUMBAI]:"0x0000000000000000000000000000000000000000"},d={[exports.SupportedChainId.MAINNET]:"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D",[exports.SupportedChainId.ROPSTEN]:"0x0000000000000000000000000000000000000000",[exports.SupportedChainId.RINKEBY]:"0xb167044f29eFE9bbc58a2A06Ae8d5d950da350C3",[exports.SupportedChainId.GÖRLI]:"0x0000000000000000000000000000000000000000",[exports.SupportedChainId.KOVAN]:"0x0000000000000000000000000000000000000000",[exports.SupportedChainId.SMART_CHAIN]:"0x1a58276ac385440cfcb64c108fa65205f4d54a2f",[exports.SupportedChainId.MUMBAI]:"0x0000000000000000000000000000000000000000"},g={[exports.SupportedChainId.MAINNET]:"0x5ba1e12693dc8f9c48aad8770482f4739beed696",[exports.SupportedChainId.ROPSTEN]:"0x5ba1e12693dc8f9c48aad8770482f4739beed696",[exports.SupportedChainId.RINKEBY]:"0x5ba1e12693dc8f9c48aad8770482f4739beed696",[exports.SupportedChainId.GÖRLI]:"0x5ba1e12693dc8f9c48aad8770482f4739beed696",[exports.SupportedChainId.KOVAN]:"0x5ba1e12693dc8f9c48aad8770482f4739beed696",[exports.SupportedChainId.SMART_CHAIN]:"0x109Cfd5e8a63669018e091a2F2B12237D5D051EA",[exports.SupportedChainId.MUMBAI]:"0xed386Fe855C1EFf2f843B910923Dd8846E45C5A4"},p={[exports.SupportedChainId.MAINNET]:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",[exports.SupportedChainId.ROPSTEN]:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",[exports.SupportedChainId.RINKEBY]:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",[exports.SupportedChainId.GÖRLI]:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",[exports.SupportedChainId.KOVAN]:"0x0000000000000000000000000000000000000000",[exports.SupportedChainId.SMART_CHAIN]:"0x0000000000000000000000000000000000000000",[exports.SupportedChainId.MUMBAI]:"0x0000000000000000000000000000000000000000"};var m="production"===process.env.NODE_ENV,_="Invariant failed";function v(t,e){if(!t){if(m)throw new Error(_);var r="function"==typeof e?e():e;throw new Error(r?_+": "+r:_)}}class w{constructor(t,e,r,i){v(Number.isSafeInteger(t),"CHAIN_ID"),v(e>=0&&e<255&&Number.isInteger(e),"DECIMALS"),this.chainId=t,this.decimals=e,this.symbol=r,this.name=i}}class y extends w{constructor(){super(...arguments),this.isNative=!0,this.isToken=!1}}let M=!1,b=!1;const E={debug:1,default:2,info:2,warning:3,error:4,off:5};let A=E.default,N=null;const x=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var I,S;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(I||(I={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(S||(S={}));const T="0123456789abcdef";class C{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==E[r]&&this.throwArgumentError("invalid log level name","logLevel",t),A>E[r]||console.log.apply(console,e)}debug(...t){this._log(C.levels.DEBUG,t)}info(...t){this._log(C.levels.INFO,t)}warn(...t){this._log(C.levels.WARNING,t)}makeError(t,e,r){if(b)return this.makeError("censored error",e,{});e||(e=C.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=T[e[t]>>4],r+=T[15&e[t]];i.push(t+"=Uint8Array(0x"+r+")")}else i.push(t+"="+JSON.stringify(e))}catch(e){i.push(t+"="+JSON.stringify(r[t].toString()))}})),i.push(`code=${e}`),i.push(`version=${this.version}`);const n=t;i.length&&(t+=" ("+i.join(", ")+")");const o=new Error(t);return o.reason=n,o.code=e,Object.keys(r).forEach((function(t){o[t]=r[t]})),o}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,C.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,i){t||this.throwError(e,r,i)}assertArgument(t,e,r,i){t||this.throwArgumentError(e,r,i)}checkNormalize(t){x&&this.throwError("platform missing String.prototype.normalize",C.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:x})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,C.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,C.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,C.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,C.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",C.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",C.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",C.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return N||(N=new C("logger/5.5.0")),N}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",C.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),M){if(!t)return;this.globalLogger().throwError("error censorship permanent",C.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}b=!!t,M=!!e}static setLogLevel(t){const e=E[t.toLowerCase()];null!=e?A=e:C.globalLogger().warn("invalid log level - "+t)}static from(t){return new C(t)}}C.errors=S,C.levels=I;const R=new C("bytes/5.5.0");function D(t){return!!t.toHexString}function O(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return O(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function B(t){return"number"==typeof t&&t==t&&t%1==0}function k(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(!B(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!B(r)||r<0||r>=256)return!1}return!0}function P(t,e){if(e||(e={}),"number"==typeof t){R.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),O(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),D(t)&&(t=t.toHexString()),F(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0x0"+r.substring(2):"right"===e.hexPad?r+="0":R.throwArgumentError("hex data is odd-length","value",t));const i=[];for(let t=0;t<r.length;t+=2)i.push(parseInt(r.substring(t,t+2),16));return O(new Uint8Array(i))}return k(t)?O(new Uint8Array(t)):R.throwArgumentError("invalid arrayify value","value",t)}function U(t){const e=t.map((t=>P(t))),r=e.reduce(((t,e)=>t+e.length),0),i=new Uint8Array(r);return e.reduce(((t,e)=>(i.set(e,t),t+e.length)),0),O(i)}function q(t,e){(t=P(t)).length>e&&R.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),O(r)}function F(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}function L(t,e){if(e||(e={}),"number"==typeof t){R.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e="0123456789abcdef"[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),D(t))return t.toHexString();if(F(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":R.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(k(t)){let e="0x";for(let r=0;r<t.length;r++){let i=t[r];e+="0123456789abcdef"[(240&i)>>4]+"0123456789abcdef"[15&i]}return e}return R.throwArgumentError("invalid hexlify value","value",t)}function z(t){if("string"!=typeof t)t=L(t);else if(!F(t)||t.length%2)return null;return(t.length-2)/2}var G="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},H={exports:{}};!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function n(t,e,r){if(n.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:require("buffer").Buffer}catch(t){}function s(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(t,e,r){var i=s(t,r);return r-1>=e&&(i|=s(t,r-1)<<4),i}function h(t,e,r,i){for(var n=0,o=Math.min(t.length,r),s=e;s<o;s++){var u=t.charCodeAt(s)-48;n*=i,n+=u>=49?u-49+10:u>=17?u-17+10:u}return n}n.isBN=function(t){return t instanceof n||null!==t&&"object"==typeof t&&t.constructor.wordSize===n.wordSize&&Array.isArray(t.words)},n.max=function(t,e){return t.cmp(e)>0?t:e},n.min=function(t,e){return t.cmp(e)<0?t:e},n.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,i):(this._parseBase(t,e,n),"le"===i&&this._initArray(this.toArray(),e,i)))},n.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},n.prototype._initArray=function(t,e,i){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,s,u=0;if("be"===i)for(n=t.length-1,o=0;n>=0;n-=3)s=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[o]|=s<<u&67108863,this.words[o+1]=s>>>26-u&67108863,(u+=24)>=26&&(u-=26,o++);else if("le"===i)for(n=0,o=0;n<t.length;n+=3)s=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[o]|=s<<u&67108863,this.words[o+1]=s>>>26-u&67108863,(u+=24)>=26&&(u-=26,o++);return this.strip()},n.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,o=0,s=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=u(t,e,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)n=u(t,e,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;this.strip()},n.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var o=t.length-r,s=o%i,u=Math.min(o,o-s)+r,a=0,l=r;l<u;l+=i)a=h(t,l,l+i,e),this.imuln(n),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==s){var f=1;for(a=h(t,l,t.length,e),l=0;l<s;l++)f*=e;this.imuln(f),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},n.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},n.prototype.clone=function(){var t=new n(null);return this.copy(t),t},n.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var a=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function c(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],o=0|e.words[0],s=n*o,u=67108863&s,h=s/67108864|0;r.words[0]=u;for(var a=1;a<i;a++){for(var l=h>>>26,f=67108863&h,c=Math.min(a,e.length-1),d=Math.max(0,a-t.length+1);d<=c;d++){var g=a-d|0;l+=(s=(n=0|t.words[g])*(o=0|e.words[d])+f)/67108864|0,f=67108863&s}r.words[a]=0|f,h=0|l}return 0!==h?r.words[a]=0|h:r.length--,r.strip()}n.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var n=0,o=0,s=0;s<this.length;s++){var u=this.words[s],h=(16777215&(u<<n|o)).toString(16);i=0!=(o=u>>>24-n&16777215)||s!==this.length-1?a[6-h.length]+h+i:h+i,(n+=2)>=26&&(n-=26,s--)}for(0!==o&&(i=o.toString(16)+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var c=l[t],d=f[t];i="";var g=this.clone();for(g.negative=0;!g.isZero();){var p=g.modn(d).toString(t);i=(g=g.idivn(d)).isZero()?p+i:a[c-p.length]+p+i}for(this.isZero()&&(i="0"+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(t,e){return r(void 0!==o),this.toArrayLike(o,t,e)},n.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},n.prototype.toArrayLike=function(t,e,i){var n=this.byteLength(),o=i||Math.max(1,n);r(n<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,u,h="le"===e,a=new t(o),l=this.clone();if(h){for(u=0;!l.isZero();u++)s=l.andln(255),l.iushrn(8),a[u]=s;for(;u<o;u++)a[u]=0}else{for(u=0;u<o-n;u++)a[u]=0;for(u=0;!l.isZero();u++)s=l.andln(255),l.iushrn(8),a[o-u-1]=s}return a},Math.clz32?n.prototype._countBits=function(t){return 32-Math.clz32(t)}:n.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},n.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},n.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},n.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},n.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},n.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},n.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},n.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},n.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},n.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},n.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},n.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},n.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},n.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},n.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},n.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this.strip()},n.prototype.notn=function(t){return this.clone().inotn(t)},n.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var i=t/26|0,n=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<n:this.words[i]&~(1<<n),this.strip()},n.prototype.iadd=function(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this);for(var n=0,o=0;o<i.length;o++)e=(0|r.words[o])+(0|i.words[o])+n,this.words[o]=67108863&e,n=e>>>26;for(;0!==n&&o<r.length;o++)e=(0|r.words[o])+n,this.words[o]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},n.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},n.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var o=0,s=0;s<i.length;s++)o=(e=(0|r.words[s])-(0|i.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var i,n,o,s=t.words,u=e.words,h=r.words,a=0,l=0|s[0],f=8191&l,c=l>>>13,d=0|s[1],g=8191&d,p=d>>>13,m=0|s[2],_=8191&m,v=m>>>13,w=0|s[3],y=8191&w,M=w>>>13,b=0|s[4],E=8191&b,A=b>>>13,N=0|s[5],x=8191&N,I=N>>>13,S=0|s[6],T=8191&S,C=S>>>13,R=0|s[7],D=8191&R,O=R>>>13,B=0|s[8],k=8191&B,P=B>>>13,U=0|s[9],q=8191&U,F=U>>>13,L=0|u[0],z=8191&L,G=L>>>13,H=0|u[1],j=8191&H,W=H>>>13,K=0|u[2],X=8191&K,Z=K>>>13,V=0|u[3],$=8191&V,Y=V>>>13,J=0|u[4],Q=8191&J,tt=J>>>13,et=0|u[5],rt=8191&et,it=et>>>13,nt=0|u[6],ot=8191&nt,st=nt>>>13,ut=0|u[7],ht=8191&ut,at=ut>>>13,lt=0|u[8],ft=8191&lt,ct=lt>>>13,dt=0|u[9],gt=8191&dt,pt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var mt=(a+(i=Math.imul(f,z))|0)+((8191&(n=(n=Math.imul(f,G))+Math.imul(c,z)|0))<<13)|0;a=((o=Math.imul(c,G))+(n>>>13)|0)+(mt>>>26)|0,mt&=67108863,i=Math.imul(g,z),n=(n=Math.imul(g,G))+Math.imul(p,z)|0,o=Math.imul(p,G);var _t=(a+(i=i+Math.imul(f,j)|0)|0)+((8191&(n=(n=n+Math.imul(f,W)|0)+Math.imul(c,j)|0))<<13)|0;a=((o=o+Math.imul(c,W)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(_,z),n=(n=Math.imul(_,G))+Math.imul(v,z)|0,o=Math.imul(v,G),i=i+Math.imul(g,j)|0,n=(n=n+Math.imul(g,W)|0)+Math.imul(p,j)|0,o=o+Math.imul(p,W)|0;var vt=(a+(i=i+Math.imul(f,X)|0)|0)+((8191&(n=(n=n+Math.imul(f,Z)|0)+Math.imul(c,X)|0))<<13)|0;a=((o=o+Math.imul(c,Z)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(y,z),n=(n=Math.imul(y,G))+Math.imul(M,z)|0,o=Math.imul(M,G),i=i+Math.imul(_,j)|0,n=(n=n+Math.imul(_,W)|0)+Math.imul(v,j)|0,o=o+Math.imul(v,W)|0,i=i+Math.imul(g,X)|0,n=(n=n+Math.imul(g,Z)|0)+Math.imul(p,X)|0,o=o+Math.imul(p,Z)|0;var wt=(a+(i=i+Math.imul(f,$)|0)|0)+((8191&(n=(n=n+Math.imul(f,Y)|0)+Math.imul(c,$)|0))<<13)|0;a=((o=o+Math.imul(c,Y)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(E,z),n=(n=Math.imul(E,G))+Math.imul(A,z)|0,o=Math.imul(A,G),i=i+Math.imul(y,j)|0,n=(n=n+Math.imul(y,W)|0)+Math.imul(M,j)|0,o=o+Math.imul(M,W)|0,i=i+Math.imul(_,X)|0,n=(n=n+Math.imul(_,Z)|0)+Math.imul(v,X)|0,o=o+Math.imul(v,Z)|0,i=i+Math.imul(g,$)|0,n=(n=n+Math.imul(g,Y)|0)+Math.imul(p,$)|0,o=o+Math.imul(p,Y)|0;var yt=(a+(i=i+Math.imul(f,Q)|0)|0)+((8191&(n=(n=n+Math.imul(f,tt)|0)+Math.imul(c,Q)|0))<<13)|0;a=((o=o+Math.imul(c,tt)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(x,z),n=(n=Math.imul(x,G))+Math.imul(I,z)|0,o=Math.imul(I,G),i=i+Math.imul(E,j)|0,n=(n=n+Math.imul(E,W)|0)+Math.imul(A,j)|0,o=o+Math.imul(A,W)|0,i=i+Math.imul(y,X)|0,n=(n=n+Math.imul(y,Z)|0)+Math.imul(M,X)|0,o=o+Math.imul(M,Z)|0,i=i+Math.imul(_,$)|0,n=(n=n+Math.imul(_,Y)|0)+Math.imul(v,$)|0,o=o+Math.imul(v,Y)|0,i=i+Math.imul(g,Q)|0,n=(n=n+Math.imul(g,tt)|0)+Math.imul(p,Q)|0,o=o+Math.imul(p,tt)|0;var Mt=(a+(i=i+Math.imul(f,rt)|0)|0)+((8191&(n=(n=n+Math.imul(f,it)|0)+Math.imul(c,rt)|0))<<13)|0;a=((o=o+Math.imul(c,it)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(T,z),n=(n=Math.imul(T,G))+Math.imul(C,z)|0,o=Math.imul(C,G),i=i+Math.imul(x,j)|0,n=(n=n+Math.imul(x,W)|0)+Math.imul(I,j)|0,o=o+Math.imul(I,W)|0,i=i+Math.imul(E,X)|0,n=(n=n+Math.imul(E,Z)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,Z)|0,i=i+Math.imul(y,$)|0,n=(n=n+Math.imul(y,Y)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,Y)|0,i=i+Math.imul(_,Q)|0,n=(n=n+Math.imul(_,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0,i=i+Math.imul(g,rt)|0,n=(n=n+Math.imul(g,it)|0)+Math.imul(p,rt)|0,o=o+Math.imul(p,it)|0;var bt=(a+(i=i+Math.imul(f,ot)|0)|0)+((8191&(n=(n=n+Math.imul(f,st)|0)+Math.imul(c,ot)|0))<<13)|0;a=((o=o+Math.imul(c,st)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,i=Math.imul(D,z),n=(n=Math.imul(D,G))+Math.imul(O,z)|0,o=Math.imul(O,G),i=i+Math.imul(T,j)|0,n=(n=n+Math.imul(T,W)|0)+Math.imul(C,j)|0,o=o+Math.imul(C,W)|0,i=i+Math.imul(x,X)|0,n=(n=n+Math.imul(x,Z)|0)+Math.imul(I,X)|0,o=o+Math.imul(I,Z)|0,i=i+Math.imul(E,$)|0,n=(n=n+Math.imul(E,Y)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,Y)|0,i=i+Math.imul(y,Q)|0,n=(n=n+Math.imul(y,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,i=i+Math.imul(_,rt)|0,n=(n=n+Math.imul(_,it)|0)+Math.imul(v,rt)|0,o=o+Math.imul(v,it)|0,i=i+Math.imul(g,ot)|0,n=(n=n+Math.imul(g,st)|0)+Math.imul(p,ot)|0,o=o+Math.imul(p,st)|0;var Et=(a+(i=i+Math.imul(f,ht)|0)|0)+((8191&(n=(n=n+Math.imul(f,at)|0)+Math.imul(c,ht)|0))<<13)|0;a=((o=o+Math.imul(c,at)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(k,z),n=(n=Math.imul(k,G))+Math.imul(P,z)|0,o=Math.imul(P,G),i=i+Math.imul(D,j)|0,n=(n=n+Math.imul(D,W)|0)+Math.imul(O,j)|0,o=o+Math.imul(O,W)|0,i=i+Math.imul(T,X)|0,n=(n=n+Math.imul(T,Z)|0)+Math.imul(C,X)|0,o=o+Math.imul(C,Z)|0,i=i+Math.imul(x,$)|0,n=(n=n+Math.imul(x,Y)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,Y)|0,i=i+Math.imul(E,Q)|0,n=(n=n+Math.imul(E,tt)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,tt)|0,i=i+Math.imul(y,rt)|0,n=(n=n+Math.imul(y,it)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,it)|0,i=i+Math.imul(_,ot)|0,n=(n=n+Math.imul(_,st)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,st)|0,i=i+Math.imul(g,ht)|0,n=(n=n+Math.imul(g,at)|0)+Math.imul(p,ht)|0,o=o+Math.imul(p,at)|0;var At=(a+(i=i+Math.imul(f,ft)|0)|0)+((8191&(n=(n=n+Math.imul(f,ct)|0)+Math.imul(c,ft)|0))<<13)|0;a=((o=o+Math.imul(c,ct)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(q,z),n=(n=Math.imul(q,G))+Math.imul(F,z)|0,o=Math.imul(F,G),i=i+Math.imul(k,j)|0,n=(n=n+Math.imul(k,W)|0)+Math.imul(P,j)|0,o=o+Math.imul(P,W)|0,i=i+Math.imul(D,X)|0,n=(n=n+Math.imul(D,Z)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,Z)|0,i=i+Math.imul(T,$)|0,n=(n=n+Math.imul(T,Y)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,Y)|0,i=i+Math.imul(x,Q)|0,n=(n=n+Math.imul(x,tt)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,tt)|0,i=i+Math.imul(E,rt)|0,n=(n=n+Math.imul(E,it)|0)+Math.imul(A,rt)|0,o=o+Math.imul(A,it)|0,i=i+Math.imul(y,ot)|0,n=(n=n+Math.imul(y,st)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,st)|0,i=i+Math.imul(_,ht)|0,n=(n=n+Math.imul(_,at)|0)+Math.imul(v,ht)|0,o=o+Math.imul(v,at)|0,i=i+Math.imul(g,ft)|0,n=(n=n+Math.imul(g,ct)|0)+Math.imul(p,ft)|0,o=o+Math.imul(p,ct)|0;var Nt=(a+(i=i+Math.imul(f,gt)|0)|0)+((8191&(n=(n=n+Math.imul(f,pt)|0)+Math.imul(c,gt)|0))<<13)|0;a=((o=o+Math.imul(c,pt)|0)+(n>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,i=Math.imul(q,j),n=(n=Math.imul(q,W))+Math.imul(F,j)|0,o=Math.imul(F,W),i=i+Math.imul(k,X)|0,n=(n=n+Math.imul(k,Z)|0)+Math.imul(P,X)|0,o=o+Math.imul(P,Z)|0,i=i+Math.imul(D,$)|0,n=(n=n+Math.imul(D,Y)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,Y)|0,i=i+Math.imul(T,Q)|0,n=(n=n+Math.imul(T,tt)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,tt)|0,i=i+Math.imul(x,rt)|0,n=(n=n+Math.imul(x,it)|0)+Math.imul(I,rt)|0,o=o+Math.imul(I,it)|0,i=i+Math.imul(E,ot)|0,n=(n=n+Math.imul(E,st)|0)+Math.imul(A,ot)|0,o=o+Math.imul(A,st)|0,i=i+Math.imul(y,ht)|0,n=(n=n+Math.imul(y,at)|0)+Math.imul(M,ht)|0,o=o+Math.imul(M,at)|0,i=i+Math.imul(_,ft)|0,n=(n=n+Math.imul(_,ct)|0)+Math.imul(v,ft)|0,o=o+Math.imul(v,ct)|0;var xt=(a+(i=i+Math.imul(g,gt)|0)|0)+((8191&(n=(n=n+Math.imul(g,pt)|0)+Math.imul(p,gt)|0))<<13)|0;a=((o=o+Math.imul(p,pt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(q,X),n=(n=Math.imul(q,Z))+Math.imul(F,X)|0,o=Math.imul(F,Z),i=i+Math.imul(k,$)|0,n=(n=n+Math.imul(k,Y)|0)+Math.imul(P,$)|0,o=o+Math.imul(P,Y)|0,i=i+Math.imul(D,Q)|0,n=(n=n+Math.imul(D,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,i=i+Math.imul(T,rt)|0,n=(n=n+Math.imul(T,it)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,it)|0,i=i+Math.imul(x,ot)|0,n=(n=n+Math.imul(x,st)|0)+Math.imul(I,ot)|0,o=o+Math.imul(I,st)|0,i=i+Math.imul(E,ht)|0,n=(n=n+Math.imul(E,at)|0)+Math.imul(A,ht)|0,o=o+Math.imul(A,at)|0,i=i+Math.imul(y,ft)|0,n=(n=n+Math.imul(y,ct)|0)+Math.imul(M,ft)|0,o=o+Math.imul(M,ct)|0;var It=(a+(i=i+Math.imul(_,gt)|0)|0)+((8191&(n=(n=n+Math.imul(_,pt)|0)+Math.imul(v,gt)|0))<<13)|0;a=((o=o+Math.imul(v,pt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(q,$),n=(n=Math.imul(q,Y))+Math.imul(F,$)|0,o=Math.imul(F,Y),i=i+Math.imul(k,Q)|0,n=(n=n+Math.imul(k,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,i=i+Math.imul(D,rt)|0,n=(n=n+Math.imul(D,it)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,it)|0,i=i+Math.imul(T,ot)|0,n=(n=n+Math.imul(T,st)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,st)|0,i=i+Math.imul(x,ht)|0,n=(n=n+Math.imul(x,at)|0)+Math.imul(I,ht)|0,o=o+Math.imul(I,at)|0,i=i+Math.imul(E,ft)|0,n=(n=n+Math.imul(E,ct)|0)+Math.imul(A,ft)|0,o=o+Math.imul(A,ct)|0;var St=(a+(i=i+Math.imul(y,gt)|0)|0)+((8191&(n=(n=n+Math.imul(y,pt)|0)+Math.imul(M,gt)|0))<<13)|0;a=((o=o+Math.imul(M,pt)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,i=Math.imul(q,Q),n=(n=Math.imul(q,tt))+Math.imul(F,Q)|0,o=Math.imul(F,tt),i=i+Math.imul(k,rt)|0,n=(n=n+Math.imul(k,it)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,it)|0,i=i+Math.imul(D,ot)|0,n=(n=n+Math.imul(D,st)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,st)|0,i=i+Math.imul(T,ht)|0,n=(n=n+Math.imul(T,at)|0)+Math.imul(C,ht)|0,o=o+Math.imul(C,at)|0,i=i+Math.imul(x,ft)|0,n=(n=n+Math.imul(x,ct)|0)+Math.imul(I,ft)|0,o=o+Math.imul(I,ct)|0;var Tt=(a+(i=i+Math.imul(E,gt)|0)|0)+((8191&(n=(n=n+Math.imul(E,pt)|0)+Math.imul(A,gt)|0))<<13)|0;a=((o=o+Math.imul(A,pt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,i=Math.imul(q,rt),n=(n=Math.imul(q,it))+Math.imul(F,rt)|0,o=Math.imul(F,it),i=i+Math.imul(k,ot)|0,n=(n=n+Math.imul(k,st)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,st)|0,i=i+Math.imul(D,ht)|0,n=(n=n+Math.imul(D,at)|0)+Math.imul(O,ht)|0,o=o+Math.imul(O,at)|0,i=i+Math.imul(T,ft)|0,n=(n=n+Math.imul(T,ct)|0)+Math.imul(C,ft)|0,o=o+Math.imul(C,ct)|0;var Ct=(a+(i=i+Math.imul(x,gt)|0)|0)+((8191&(n=(n=n+Math.imul(x,pt)|0)+Math.imul(I,gt)|0))<<13)|0;a=((o=o+Math.imul(I,pt)|0)+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,i=Math.imul(q,ot),n=(n=Math.imul(q,st))+Math.imul(F,ot)|0,o=Math.imul(F,st),i=i+Math.imul(k,ht)|0,n=(n=n+Math.imul(k,at)|0)+Math.imul(P,ht)|0,o=o+Math.imul(P,at)|0,i=i+Math.imul(D,ft)|0,n=(n=n+Math.imul(D,ct)|0)+Math.imul(O,ft)|0,o=o+Math.imul(O,ct)|0;var Rt=(a+(i=i+Math.imul(T,gt)|0)|0)+((8191&(n=(n=n+Math.imul(T,pt)|0)+Math.imul(C,gt)|0))<<13)|0;a=((o=o+Math.imul(C,pt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(q,ht),n=(n=Math.imul(q,at))+Math.imul(F,ht)|0,o=Math.imul(F,at),i=i+Math.imul(k,ft)|0,n=(n=n+Math.imul(k,ct)|0)+Math.imul(P,ft)|0,o=o+Math.imul(P,ct)|0;var Dt=(a+(i=i+Math.imul(D,gt)|0)|0)+((8191&(n=(n=n+Math.imul(D,pt)|0)+Math.imul(O,gt)|0))<<13)|0;a=((o=o+Math.imul(O,pt)|0)+(n>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,i=Math.imul(q,ft),n=(n=Math.imul(q,ct))+Math.imul(F,ft)|0,o=Math.imul(F,ct);var Ot=(a+(i=i+Math.imul(k,gt)|0)|0)+((8191&(n=(n=n+Math.imul(k,pt)|0)+Math.imul(P,gt)|0))<<13)|0;a=((o=o+Math.imul(P,pt)|0)+(n>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Bt=(a+(i=Math.imul(q,gt))|0)+((8191&(n=(n=Math.imul(q,pt))+Math.imul(F,gt)|0))<<13)|0;return a=((o=Math.imul(F,pt))+(n>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,h[0]=mt,h[1]=_t,h[2]=vt,h[3]=wt,h[4]=yt,h[5]=Mt,h[6]=bt,h[7]=Et,h[8]=At,h[9]=Nt,h[10]=xt,h[11]=It,h[12]=St,h[13]=Tt,h[14]=Ct,h[15]=Rt,h[16]=Dt,h[17]=Ot,h[18]=Bt,0!==a&&(h[19]=a,r.length++),r};function g(t,e,r){return(new p).mulp(t,e,r)}function p(t,e){this.x=t,this.y=e}Math.imul||(d=c),n.prototype.mulTo=function(t,e){var r,i=this.length+t.length;return r=10===this.length&&10===t.length?d(this,t,e):i<63?c(this,t,e):i<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,o=0;o<r.length-1;o++){var s=n;n=0;for(var u=67108863&i,h=Math.min(o,e.length-1),a=Math.max(0,o-t.length+1);a<=h;a++){var l=o-a,f=(0|t.words[l])*(0|e.words[a]),c=67108863&f;u=67108863&(c=c+u|0),n+=(s=(s=s+(f/67108864|0)|0)+(c>>>26)|0)>>>26,s&=67108863}r.words[o]=u,i=s,s=n}return 0!==i?r.words[o]=i:r.length--,r.strip()}(this,t,e):g(this,t,e),r},p.prototype.makeRBT=function(t){for(var e=new Array(t),r=n.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},p.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},p.prototype.permute=function(t,e,r,i,n,o){for(var s=0;s<o;s++)i[s]=e[t[s]],n[s]=r[t[s]]},p.prototype.transform=function(t,e,r,i,n,o){this.permute(o,t,e,r,i,n);for(var s=1;s<n;s<<=1)for(var u=s<<1,h=Math.cos(2*Math.PI/u),a=Math.sin(2*Math.PI/u),l=0;l<n;l+=u)for(var f=h,c=a,d=0;d<s;d++){var g=r[l+d],p=i[l+d],m=r[l+d+s],_=i[l+d+s],v=f*m-c*_;_=f*_+c*m,m=v,r[l+d]=g+m,i[l+d]=p+_,r[l+d+s]=g-m,i[l+d+s]=p-_,d!==u&&(v=h*f-a*c,c=h*c+a*f,f=v)}},p.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},p.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},p.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},p.prototype.convert13b=function(t,e,i,n){for(var o=0,s=0;s<e;s++)o+=0|t[s],i[2*s]=8191&o,o>>>=13,i[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<n;++s)i[s]=0;r(0===o),r(0==(-8192&o))},p.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},p.prototype.mulp=function(t,e,r){var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),o=this.stub(i),s=new Array(i),u=new Array(i),h=new Array(i),a=new Array(i),l=new Array(i),f=new Array(i),c=r.words;c.length=i,this.convert13b(t.words,t.length,s,i),this.convert13b(e.words,e.length,a,i),this.transform(s,o,u,h,i,n),this.transform(a,o,l,f,i,n);for(var d=0;d<i;d++){var g=u[d]*l[d]-h[d]*f[d];h[d]=u[d]*f[d]+h[d]*l[d],u[d]=g}return this.conjugate(u,h,i),this.transform(u,h,c,o,i,n),this.conjugate(c,o,i),this.normalize13b(c,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},n.prototype.mul=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},n.prototype.mulf=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),g(this,t,e)},n.prototype.imul=function(t){return this.clone().mulTo(t,this)},n.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,i=0;i<this.length;i++){var n=(0|this.words[i])*t,o=(67108863&n)+(67108863&e);e>>=26,e+=n/67108864|0,e+=o>>>26,this.words[i]=67108863&o}return 0!==e&&(this.words[i]=e,this.length++),this},n.prototype.muln=function(t){return this.clone().imuln(t)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=(t.words[i]&1<<n)>>>n}return e}(t);if(0===e.length)return new n(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var o=r.sqr();i<e.length;i++,o=o.sqr())0!==e[i]&&(r=r.mul(o));return r},n.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,i=t%26,n=(t-i)/26,o=67108863>>>26-i<<26-i;if(0!==i){var s=0;for(e=0;e<this.length;e++){var u=this.words[e]&o,h=(0|this.words[e])-u<<i;this.words[e]=h|s,s=u>>>26-i}s&&(this.words[e]=s,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this.strip()},n.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},n.prototype.iushrn=function(t,e,i){var n;r("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),u=67108863^67108863>>>o<<o,h=i;if(n-=s,n=Math.max(0,n),h){for(var a=0;a<s;a++)h.words[a]=this.words[a];h.length=s}if(0===s);else if(this.length>s)for(this.length-=s,a=0;a<this.length;a++)this.words[a]=this.words[a+s];else this.words[0]=0,this.length=1;var l=0;for(a=this.length-1;a>=0&&(0!==l||a>=n);a--){var f=0|this.words[a];this.words[a]=l<<26-o|f>>>o,l=f&u}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(t,e,i){return r(0===this.negative),this.iushrn(t,e,i)},n.prototype.shln=function(t){return this.clone().ishln(t)},n.prototype.ushln=function(t){return this.clone().iushln(t)},n.prototype.shrn=function(t){return this.clone().ishrn(t)},n.prototype.ushrn=function(t){return this.clone().iushrn(t)},n.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,n=1<<e;return!(this.length<=i||!(this.words[i]&n))},n.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this.strip()},n.prototype.maskn=function(t){return this.clone().imaskn(t)},n.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},n.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},n.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},n.prototype.addn=function(t){return this.clone().iaddn(t)},n.prototype.subn=function(t){return this.clone().isubn(t)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(t,e,i){var n,o,s=t.length+i;this._expand(s);var u=0;for(n=0;n<t.length;n++){o=(0|this.words[n+i])+u;var h=(0|t.words[n])*e;u=((o-=67108863&h)>>26)-(h/67108864|0),this.words[n+i]=67108863&o}for(;n<this.length-i;n++)u=(o=(0|this.words[n+i])+u)>>26,this.words[n+i]=67108863&o;if(0===u)return this.strip();for(r(-1===u),u=0,n=0;n<this.length;n++)u=(o=-(0|this.words[n])+u)>>26,this.words[n]=67108863&o;return this.negative=1,this.strip()},n.prototype._wordDiv=function(t,e){var r=(this.length,t.length),i=this.clone(),o=t,s=0|o.words[o.length-1];0!=(r=26-this._countBits(s))&&(o=o.ushln(r),i.iushln(r),s=0|o.words[o.length-1]);var u,h=i.length-o.length;if("mod"!==e){(u=new n(null)).length=h+1,u.words=new Array(u.length);for(var a=0;a<u.length;a++)u.words[a]=0}var l=i.clone()._ishlnsubmul(o,1,h);0===l.negative&&(i=l,u&&(u.words[h]=1));for(var f=h-1;f>=0;f--){var c=67108864*(0|i.words[o.length+f])+(0|i.words[o.length+f-1]);for(c=Math.min(c/s|0,67108863),i._ishlnsubmul(o,c,f);0!==i.negative;)c--,i.negative=0,i._ishlnsubmul(o,1,f),i.isZero()||(i.negative^=1);u&&(u.words[f]=c)}return u&&u.strip(),i.strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:u||null,mod:i}},n.prototype.divmod=function(t,e,i){return r(!t.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===t.negative?(u=this.neg().divmod(t,e),"mod"!==e&&(o=u.div.neg()),"div"!==e&&(s=u.mod.neg(),i&&0!==s.negative&&s.iadd(t)),{div:o,mod:s}):0===this.negative&&0!==t.negative?(u=this.divmod(t.neg(),e),"mod"!==e&&(o=u.div.neg()),{div:o,mod:u.mod}):0!=(this.negative&t.negative)?(u=this.neg().divmod(t.neg(),e),"div"!==e&&(s=u.mod.neg(),i&&0!==s.negative&&s.isub(t)),{div:u.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new n(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new n(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new n(this.modn(t.words[0]))}:this._wordDiv(t,e);var o,s,u},n.prototype.div=function(t){return this.divmod(t,"div",!1).div},n.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},n.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},n.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),o=r.cmp(i);return o<0||1===n&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},n.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,i=0,n=this.length-1;n>=0;n--)i=(e*i+(0|this.words[n]))%t;return i},n.prototype.idivn=function(t){r(t<=67108863);for(var e=0,i=this.length-1;i>=0;i--){var n=(0|this.words[i])+67108864*e;this.words[i]=n/t|0,e=n%t}return this.strip()},n.prototype.divn=function(t){return this.clone().idivn(t)},n.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new n(1),s=new n(0),u=new n(0),h=new n(1),a=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++a;for(var l=i.clone(),f=e.clone();!e.isZero();){for(var c=0,d=1;0==(e.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(e.iushrn(c);c-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(l),s.isub(f)),o.iushrn(1),s.iushrn(1);for(var g=0,p=1;0==(i.words[0]&p)&&g<26;++g,p<<=1);if(g>0)for(i.iushrn(g);g-- >0;)(u.isOdd()||h.isOdd())&&(u.iadd(l),h.isub(f)),u.iushrn(1),h.iushrn(1);e.cmp(i)>=0?(e.isub(i),o.isub(u),s.isub(h)):(i.isub(e),u.isub(o),h.isub(s))}return{a:u,b:h,gcd:i.iushln(a)}},n.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,s=new n(1),u=new n(0),h=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var a=0,l=1;0==(e.words[0]&l)&&a<26;++a,l<<=1);if(a>0)for(e.iushrn(a);a-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var f=0,c=1;0==(i.words[0]&c)&&f<26;++f,c<<=1);if(f>0)for(i.iushrn(f);f-- >0;)u.isOdd()&&u.iadd(h),u.iushrn(1);e.cmp(i)>=0?(e.isub(i),s.isub(u)):(i.isub(e),u.isub(s))}return(o=0===e.cmpn(1)?s:u).cmpn(0)<0&&o.iadd(t),o},n.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var o=e;e=r,r=o}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},n.prototype.invm=function(t){return this.egcd(t).a.umod(t)},n.prototype.isEven=function(){return 0==(1&this.words[0])},n.prototype.isOdd=function(){return 1==(1&this.words[0])},n.prototype.andln=function(t){return this.words[0]&t},n.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var o=n,s=i;0!==o&&s<this.length;s++){var u=0|this.words[s];o=(u+=o)>>>26,u&=67108863,this.words[s]=u}return 0!==o&&(this.words[s]=o,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)e=1;else{i&&(t=-t),r(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},n.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},n.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},n.prototype.gtn=function(t){return 1===this.cmpn(t)},n.prototype.gt=function(t){return 1===this.cmp(t)},n.prototype.gten=function(t){return this.cmpn(t)>=0},n.prototype.gte=function(t){return this.cmp(t)>=0},n.prototype.ltn=function(t){return-1===this.cmpn(t)},n.prototype.lt=function(t){return-1===this.cmp(t)},n.prototype.lten=function(t){return this.cmpn(t)<=0},n.prototype.lte=function(t){return this.cmp(t)<=0},n.prototype.eqn=function(t){return 0===this.cmpn(t)},n.prototype.eq=function(t){return 0===this.cmp(t)},n.red=function(t){return new b(t)},n.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(t){return this.red=t,this},n.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},n.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},n.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},n.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},n.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},n.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},n.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},n.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new n(e,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function y(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function b(t){if("string"==typeof t){var e=n._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function E(t){b.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new n(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(v,_),v.prototype.split=function(t,e){for(var r=4194303,i=Math.min(t.length,9),n=0;n<i;n++)e.words[n]=t.words[n];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,n=10;n<t.length;n++){var s=0|t.words[n];t.words[n-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,t.words[n-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,_),i(y,_),i(M,_),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},n._prime=function(t){if(m[t])return m[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new w;else if("p192"===t)e=new y;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return m[t]=e,e},b.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},b.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},b.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},b.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},b.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},b.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},b.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},b.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},b.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},b.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},b.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},b.prototype.isqr=function(t){return this.imul(t,t.clone())},b.prototype.sqr=function(t){return this.mul(t,t)},b.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var i=this.m.add(new n(1)).iushrn(2);return this.pow(t,i)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var u=new n(1).toRed(this),h=u.redNeg(),a=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new n(2*l*l).toRed(this);0!==this.pow(l,a).cmp(h);)l.redIAdd(h);for(var f=this.pow(l,o),c=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),g=s;0!==d.cmp(u);){for(var p=d,m=0;0!==p.cmp(u);m++)p=p.redSqr();r(m<g);var _=this.pow(f,new n(1).iushln(g-m-1));c=c.redMul(_),f=_.redSqr(),d=d.redMul(f),g=m}return c},b.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},b.prototype.pow=function(t,e){if(e.isZero())return new n(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new n(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var o=r[0],s=0,u=0,h=e.bitLength()%26;for(0===h&&(h=26),i=e.length-1;i>=0;i--){for(var a=e.words[i],l=h-1;l>=0;l--){var f=a>>l&1;o!==r[0]&&(o=this.sqr(o)),0!==f||0!==s?(s<<=1,s|=f,(4==++u||0===i&&0===l)&&(o=this.mul(o,r[s]),u=0,s=0)):u=0}h=26}return o},b.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},b.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},n.mont=function(t){return new E(t)},i(E,b),E.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},E.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},E.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},E.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new n(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(i).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},E.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(H,G);var j=H.exports.BN;const W=new C("bignumber/5.5.0"),K={};let X=!1;class Z{constructor(t,e){W.checkNew(new.target,Z),t!==K&&W.throwError("cannot call constructor directly; use BigNumber.from",C.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return $(Y(this).fromTwos(t))}toTwos(t){return $(Y(this).toTwos(t))}abs(){return"-"===this._hex[0]?Z.from(this._hex.substring(1)):this}add(t){return $(Y(this).add(Y(t)))}sub(t){return $(Y(this).sub(Y(t)))}div(t){return Z.from(t).isZero()&&J("division by zero","div"),$(Y(this).div(Y(t)))}mul(t){return $(Y(this).mul(Y(t)))}mod(t){const e=Y(t);return e.isNeg()&&J("cannot modulo negative values","mod"),$(Y(this).umod(e))}pow(t){const e=Y(t);return e.isNeg()&&J("cannot raise to negative values","pow"),$(Y(this).pow(e))}and(t){const e=Y(t);return(this.isNegative()||e.isNeg())&&J("cannot 'and' negative values","and"),$(Y(this).and(e))}or(t){const e=Y(t);return(this.isNegative()||e.isNeg())&&J("cannot 'or' negative values","or"),$(Y(this).or(e))}xor(t){const e=Y(t);return(this.isNegative()||e.isNeg())&&J("cannot 'xor' negative values","xor"),$(Y(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&J("cannot mask negative values","mask"),$(Y(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&J("cannot shift negative values","shl"),$(Y(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&J("cannot shift negative values","shr"),$(Y(this).shrn(t))}eq(t){return Y(this).eq(Y(t))}lt(t){return Y(this).lt(Y(t))}lte(t){return Y(this).lte(Y(t))}gt(t){return Y(this).gt(Y(t))}gte(t){return Y(this).gte(Y(t))}isNegative(){return"-"===this._hex[0]}isZero(){return Y(this).isZero()}toNumber(){try{return Y(this).toNumber()}catch(t){J("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return W.throwError("this platform does not support BigInt",C.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?X||(X=!0,W.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?W.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",C.errors.UNEXPECTED_ARGUMENT,{}):W.throwError("BigNumber.toString does not accept parameters",C.errors.UNEXPECTED_ARGUMENT,{})),Y(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof Z)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new Z(K,V(t)):t.match(/^-?[0-9]+$/)?new Z(K,V(new j(t))):W.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&J("underflow","BigNumber.from",t),(t>=9007199254740991||t<=-9007199254740991)&&J("overflow","BigNumber.from",t),Z.from(String(t));const e=t;if("bigint"==typeof e)return Z.from(e.toString());if(k(e))return Z.from(L(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return Z.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(F(t)||"-"===t[0]&&F(t.substring(1))))return Z.from(t)}return W.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function V(t){if("string"!=typeof t)return V(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&W.throwArgumentError("invalid hex","value",t),"0x00"===(t=V(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function $(t){return Z.from(V(t))}function Y(t){const e=Z.from(t).toHexString();return"-"===e[0]?new j("-"+e.substring(3),16):new j(e.substring(2),16)}function J(t,e,r){const i={fault:t,operation:e};return null!=r&&(i.value=r),W.throwError(t,C.errors.NUMERIC_FAULT,i)}var Q,tt={exports:{}};
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */Q=tt,function(){var t="input is invalid type",e="object"==typeof window,r=e?window:{};r.JS_SHA3_NO_WINDOW&&(e=!1);var i=!e&&"object"==typeof self;!r.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?r=G:i&&(r=self);var n=!r.JS_SHA3_NO_COMMON_JS&&Q.exports,o=!r.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,s="0123456789abcdef".split(""),u=[4,1024,262144,67108864],h=[0,8,16,24],a=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],l=[224,256,384,512],f=[128,256],c=["hex","buffer","arrayBuffer","array","digest"],d={128:168,256:136};!r.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!o||!r.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var g=function(t,e,r){return function(i){return new T(t,e,t).update(i)[r]()}},p=function(t,e,r){return function(i,n){return new T(t,e,n).update(i)[r]()}},m=function(t,e,r){return function(e,i,n,o){return M["cshake"+t].update(e,i,n,o)[r]()}},_=function(t,e,r){return function(e,i,n,o){return M["kmac"+t].update(e,i,n,o)[r]()}},v=function(t,e,r,i){for(var n=0;n<c.length;++n){var o=c[n];t[o]=e(r,i,o)}return t},w=function(t,e){var r=g(t,e,"hex");return r.create=function(){return new T(t,e,t)},r.update=function(t){return r.create().update(t)},v(r,g,t,e)},y=[{name:"keccak",padding:[1,256,65536,16777216],bits:l,createMethod:w},{name:"sha3",padding:[6,1536,393216,100663296],bits:l,createMethod:w},{name:"shake",padding:[31,7936,2031616,520093696],bits:f,createMethod:function(t,e){var r=p(t,e,"hex");return r.create=function(r){return new T(t,e,r)},r.update=function(t,e){return r.create(e).update(t)},v(r,p,t,e)}},{name:"cshake",padding:u,bits:f,createMethod:function(t,e){var r=d[t],i=m(t,0,"hex");return i.create=function(i,n,o){return n||o?new T(t,e,i).bytepad([n,o],r):M["shake"+t].create(i)},i.update=function(t,e,r,n){return i.create(e,r,n).update(t)},v(i,m,t,e)}},{name:"kmac",padding:u,bits:f,createMethod:function(t,e){var r=d[t],i=_(t,0,"hex");return i.create=function(i,n,o){return new C(t,e,n).bytepad(["KMAC",o],r).bytepad([i],r)},i.update=function(t,e,r,n){return i.create(t,r,n).update(e)},v(i,_,t,e)}}],M={},b=[],E=0;E<y.length;++E)for(var A=y[E],N=A.bits,x=0;x<N.length;++x){var I=A.name+"_"+N[x];if(b.push(I),M[I]=A.createMethod(N[x],A.padding),"sha3"!==A.name){var S=A.name+N[x];b.push(S),M[S]=M[I]}}function T(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var i=0;i<50;++i)this.s[i]=0}function C(t,e,r){T.call(this,t,e,r)}T.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var r,i=typeof e;if("string"!==i){if("object"!==i)throw new Error(t);if(null===e)throw new Error(t);if(o&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||o&&ArrayBuffer.isView(e)))throw new Error(t);r=!0}for(var n,s,u=this.blocks,a=this.byteCount,l=e.length,f=this.blockCount,c=0,d=this.s;c<l;){if(this.reset)for(this.reset=!1,u[0]=this.block,n=1;n<f+1;++n)u[n]=0;if(r)for(n=this.start;c<l&&n<a;++c)u[n>>2]|=e[c]<<h[3&n++];else for(n=this.start;c<l&&n<a;++c)(s=e.charCodeAt(c))<128?u[n>>2]|=s<<h[3&n++]:s<2048?(u[n>>2]|=(192|s>>6)<<h[3&n++],u[n>>2]|=(128|63&s)<<h[3&n++]):s<55296||s>=57344?(u[n>>2]|=(224|s>>12)<<h[3&n++],u[n>>2]|=(128|s>>6&63)<<h[3&n++],u[n>>2]|=(128|63&s)<<h[3&n++]):(s=65536+((1023&s)<<10|1023&e.charCodeAt(++c)),u[n>>2]|=(240|s>>18)<<h[3&n++],u[n>>2]|=(128|s>>12&63)<<h[3&n++],u[n>>2]|=(128|s>>6&63)<<h[3&n++],u[n>>2]|=(128|63&s)<<h[3&n++]);if(this.lastByteIndex=n,n>=a){for(this.start=n-a,this.block=u[f],n=0;n<f;++n)d[n]^=u[n];R(d),this.reset=!0}else this.start=n}return this},T.prototype.encode=function(t,e){var r=255&t,i=1,n=[r];for(r=255&(t>>=8);r>0;)n.unshift(r),r=255&(t>>=8),++i;return e?n.push(i):n.unshift(i),this.update(n),n.length},T.prototype.encodeString=function(e){var r,i=typeof e;if("string"!==i){if("object"!==i)throw new Error(t);if(null===e)throw new Error(t);if(o&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||o&&ArrayBuffer.isView(e)))throw new Error(t);r=!0}var n=0,s=e.length;if(r)n=s;else for(var u=0;u<e.length;++u){var h=e.charCodeAt(u);h<128?n+=1:h<2048?n+=2:h<55296||h>=57344?n+=3:(h=65536+((1023&h)<<10|1023&e.charCodeAt(++u)),n+=4)}return n+=this.encode(8*n),this.update(e),n},T.prototype.bytepad=function(t,e){for(var r=this.encode(e),i=0;i<t.length;++i)r+=this.encodeString(t[i]);var n=e-r%e,o=[];return o.length=n,this.update(o),this},T.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,i=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)i[e]^=t[e];R(i)}},T.prototype.toString=T.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,i=this.outputBlocks,n=this.extraBytes,o=0,u=0,h="";u<i;){for(o=0;o<e&&u<i;++o,++u)t=r[o],h+=s[t>>4&15]+s[15&t]+s[t>>12&15]+s[t>>8&15]+s[t>>20&15]+s[t>>16&15]+s[t>>28&15]+s[t>>24&15];u%e==0&&(R(r),o=0)}return n&&(t=r[o],h+=s[t>>4&15]+s[15&t],n>1&&(h+=s[t>>12&15]+s[t>>8&15]),n>2&&(h+=s[t>>20&15]+s[t>>16&15])),h},T.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,i=this.outputBlocks,n=this.extraBytes,o=0,s=0,u=this.outputBits>>3;t=n?new ArrayBuffer(i+1<<2):new ArrayBuffer(u);for(var h=new Uint32Array(t);s<i;){for(o=0;o<e&&s<i;++o,++s)h[s]=r[o];s%e==0&&R(r)}return n&&(h[o]=r[o],t=t.slice(0,u)),t},T.prototype.buffer=T.prototype.arrayBuffer,T.prototype.digest=T.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,i=this.s,n=this.outputBlocks,o=this.extraBytes,s=0,u=0,h=[];u<n;){for(s=0;s<r&&u<n;++s,++u)t=u<<2,e=i[s],h[t]=255&e,h[t+1]=e>>8&255,h[t+2]=e>>16&255,h[t+3]=e>>24&255;u%r==0&&R(i)}return o&&(t=u<<2,e=i[s],h[t]=255&e,o>1&&(h[t+1]=e>>8&255),o>2&&(h[t+2]=e>>16&255)),h},C.prototype=new T,C.prototype.finalize=function(){return this.encode(this.outputBits,!0),T.prototype.finalize.call(this)};var R=function(t){var e,r,i,n,o,s,u,h,l,f,c,d,g,p,m,_,v,w,y,M,b,E,A,N,x,I,S,T,C,R,D,O,B,k,P,U,q,F,L,z,G,H,j,W,K,X,Z,V,$,Y,J,Q,tt,et,rt,it,nt,ot,st,ut,ht,at,lt;for(i=0;i<48;i+=2)n=t[0]^t[10]^t[20]^t[30]^t[40],o=t[1]^t[11]^t[21]^t[31]^t[41],s=t[2]^t[12]^t[22]^t[32]^t[42],u=t[3]^t[13]^t[23]^t[33]^t[43],h=t[4]^t[14]^t[24]^t[34]^t[44],l=t[5]^t[15]^t[25]^t[35]^t[45],f=t[6]^t[16]^t[26]^t[36]^t[46],c=t[7]^t[17]^t[27]^t[37]^t[47],e=(d=t[8]^t[18]^t[28]^t[38]^t[48])^(s<<1|u>>>31),r=(g=t[9]^t[19]^t[29]^t[39]^t[49])^(u<<1|s>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=n^(h<<1|l>>>31),r=o^(l<<1|h>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=s^(f<<1|c>>>31),r=u^(c<<1|f>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=h^(d<<1|g>>>31),r=l^(g<<1|d>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=f^(n<<1|o>>>31),r=c^(o<<1|n>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,p=t[0],m=t[1],X=t[11]<<4|t[10]>>>28,Z=t[10]<<4|t[11]>>>28,T=t[20]<<3|t[21]>>>29,C=t[21]<<3|t[20]>>>29,ut=t[31]<<9|t[30]>>>23,ht=t[30]<<9|t[31]>>>23,H=t[40]<<18|t[41]>>>14,j=t[41]<<18|t[40]>>>14,k=t[2]<<1|t[3]>>>31,P=t[3]<<1|t[2]>>>31,_=t[13]<<12|t[12]>>>20,v=t[12]<<12|t[13]>>>20,V=t[22]<<10|t[23]>>>22,$=t[23]<<10|t[22]>>>22,R=t[33]<<13|t[32]>>>19,D=t[32]<<13|t[33]>>>19,at=t[42]<<2|t[43]>>>30,lt=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,U=t[14]<<6|t[15]>>>26,q=t[15]<<6|t[14]>>>26,w=t[25]<<11|t[24]>>>21,y=t[24]<<11|t[25]>>>21,Y=t[34]<<15|t[35]>>>17,J=t[35]<<15|t[34]>>>17,O=t[45]<<29|t[44]>>>3,B=t[44]<<29|t[45]>>>3,N=t[6]<<28|t[7]>>>4,x=t[7]<<28|t[6]>>>4,it=t[17]<<23|t[16]>>>9,nt=t[16]<<23|t[17]>>>9,F=t[26]<<25|t[27]>>>7,L=t[27]<<25|t[26]>>>7,M=t[36]<<21|t[37]>>>11,b=t[37]<<21|t[36]>>>11,Q=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,W=t[8]<<27|t[9]>>>5,K=t[9]<<27|t[8]>>>5,I=t[18]<<20|t[19]>>>12,S=t[19]<<20|t[18]>>>12,ot=t[29]<<7|t[28]>>>25,st=t[28]<<7|t[29]>>>25,z=t[38]<<8|t[39]>>>24,G=t[39]<<8|t[38]>>>24,E=t[48]<<14|t[49]>>>18,A=t[49]<<14|t[48]>>>18,t[0]=p^~_&w,t[1]=m^~v&y,t[10]=N^~I&T,t[11]=x^~S&C,t[20]=k^~U&F,t[21]=P^~q&L,t[30]=W^~X&V,t[31]=K^~Z&$,t[40]=et^~it&ot,t[41]=rt^~nt&st,t[2]=_^~w&M,t[3]=v^~y&b,t[12]=I^~T&R,t[13]=S^~C&D,t[22]=U^~F&z,t[23]=q^~L&G,t[32]=X^~V&Y,t[33]=Z^~$&J,t[42]=it^~ot&ut,t[43]=nt^~st&ht,t[4]=w^~M&E,t[5]=y^~b&A,t[14]=T^~R&O,t[15]=C^~D&B,t[24]=F^~z&H,t[25]=L^~G&j,t[34]=V^~Y&Q,t[35]=$^~J&tt,t[44]=ot^~ut&at,t[45]=st^~ht&lt,t[6]=M^~E&p,t[7]=b^~A&m,t[16]=R^~O&N,t[17]=D^~B&x,t[26]=z^~H&k,t[27]=G^~j&P,t[36]=Y^~Q&W,t[37]=J^~tt&K,t[46]=ut^~at&et,t[47]=ht^~lt&rt,t[8]=E^~p&_,t[9]=A^~m&v,t[18]=O^~N&I,t[19]=B^~x&S,t[28]=H^~k&U,t[29]=j^~P&q,t[38]=Q^~W&X,t[39]=tt^~K&Z,t[48]=at^~et&it,t[49]=lt^~rt&nt,t[0]^=a[i],t[1]^=a[i+1]};if(n)Q.exports=M;else for(E=0;E<b.length;++E)r[b[E]]=M[b[E]]}();var et=tt.exports;function rt(t){return"0x"+et.keccak_256(P(t))}const it=new C("address/5.5.0");function nt(t){F(t,20)||it.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let t=0;t<40;t++)r[t]=e[t].charCodeAt(0);const i=P(rt(r));for(let t=0;t<40;t+=2)i[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&i[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const ot={};for(let t=0;t<10;t++)ot[String(t)]=String(t);for(let t=0;t<26;t++)ot[String.fromCharCode(65+t)]=String(10+t);const st=Math.floor((ut=9007199254740991,Math.log10?Math.log10(ut):Math.log(ut)/Math.LN10));var ut;function ht(t){let e=null;if("string"!=typeof t&&it.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=nt(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&it.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==function(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>ot[t])).join("");for(;e.length>=st;){let t=e.substring(0,st);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}(t)&&it.throwArgumentError("bad icap checksum","address",t),r=t.substring(4),e=new j(r,36).toString(16);e.length<40;)e="0"+e;e=nt("0x"+e)}else it.throwArgumentError("invalid address","address",t);var r;return e}function at(t,e,r){return 32!==z(e)&&it.throwArgumentError("salt must be 32 bytes","salt",e),32!==z(r)&&it.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r),ht((i=rt(U(["0xff",ht(t),e,r])),n=12,"string"!=typeof i?i=L(i):(!F(i)||i.length%2)&&R.throwArgumentError("invalid hexData","value",i),n=2+2*n,null!=o?"0x"+i.substring(n,2+2*o):"0x"+i.substring(n)));var i,n,o}function lt(t){try{return ht(t)}catch(e){throw new Error(`${t} is not a valid address.`)}}class ft extends w{constructor(t,e,r,i,n){super(t,r,i,n),this.isNative=!1,this.isToken=!0,this.address=lt(e)}equals(t){return t.isToken&&this.chainId===t.chainId&&this.address===t.address}sortsBefore(t){return v(this.chainId===t.chainId,"CHAIN_IDS"),v(this.address!==t.address,"ADDRESSES"),this.address.toLowerCase()<t.address.toLowerCase()}get wrapped(){return this}}const ct={[exports.SupportedChainId.MAINNET]:new ft(1,"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",18,"WETH","Wrapped Ether"),[exports.SupportedChainId.ROPSTEN]:new ft(3,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),[exports.SupportedChainId.RINKEBY]:new ft(4,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),[exports.SupportedChainId.GÖRLI]:new ft(5,"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6",18,"WETH","Wrapped Ether"),[exports.SupportedChainId.KOVAN]:new ft(42,"0xd0A1E359811322d97991E03f863a0C30C2cF029C",18,"WETH","Wrapped Ether")};class dt extends y{constructor(t){super(t,18,"ETH","Ether")}get wrapped(){const t=ct[this.chainId];return v(!!t,"WRAPPED"),t}static onChain(t){var e;return null!==(e=this._etherCache[t])&&void 0!==e?e:this._etherCache[t]=new dt(t)}equals(t){return t.isNative&&t.chainId===this.chainId}}dt._etherCache={};var gt="[big.js] ",pt=gt+"Invalid ",mt=pt+"decimal places",_t={},vt=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function wt(t,e,r,i){var n=t.c;if(undefined===r&&(r=t.constructor.RM),0!==r&&1!==r&&2!==r&&3!==r)throw Error("[big.js] Invalid rounding mode");if(e<1)i=3===r&&(i||!!n[0])||0===e&&(1===r&&n[0]>=5||2===r&&(n[0]>5||5===n[0]&&(i||undefined!==n[1]))),n.length=1,i?(t.e=t.e-e+1,n[0]=1):n[0]=t.e=0;else if(e<n.length){if(i=1===r&&n[e]>=5||2===r&&(n[e]>5||5===n[e]&&(i||undefined!==n[e+1]||1&n[e-1]))||3===r&&(i||!!n[0]),n.length=e--,i)for(;++n[e]>9;)n[e]=0,e--||(++t.e,n.unshift(1));for(e=n.length;!n[--e];)n.pop()}return t}function yt(t,e,r){var i=t.e,n=t.c.join(""),o=n.length;if(e)n=n.charAt(0)+(o>1?"."+n.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)n="0"+n;n="0."+n}else if(i>0)if(++i>o)for(i-=o;i--;)n+="0";else i<o&&(n=n.slice(0,i)+"."+n.slice(i));else o>1&&(n=n.charAt(0)+"."+n.slice(1));return t.s<0&&r?"-"+n:n}_t.abs=function(){var t=new this.constructor(this);return t.s=1,t},_t.cmp=function(t){var e,r=this,i=r.c,n=(t=new r.constructor(t)).c,o=r.s,s=t.s,u=r.e,h=t.e;if(!i[0]||!n[0])return i[0]?o:n[0]?-s:0;if(o!=s)return o;if(e=o<0,u!=h)return u>h^e?1:-1;for(s=(u=i.length)<(h=n.length)?u:h,o=-1;++o<s;)if(i[o]!=n[o])return i[o]>n[o]^e?1:-1;return u==h?0:u>h^e?1:-1},_t.div=function(t){var e=this,r=e.constructor,i=e.c,n=(t=new r(t)).c,o=e.s==t.s?1:-1,s=r.DP;if(s!==~~s||s<0||s>1e6)throw Error(mt);if(!n[0])throw Error("[big.js] Division by zero");if(!i[0])return t.s=o,t.c=[t.e=0],t;var u,h,a,l,f,c=n.slice(),d=u=n.length,g=i.length,p=i.slice(0,u),m=p.length,_=t,v=_.c=[],w=0,y=s+(_.e=e.e-t.e)+1;for(_.s=o,o=y<0?0:y,c.unshift(0);m++<u;)p.push(0);do{for(a=0;a<10;a++){if(u!=(m=p.length))l=u>m?1:-1;else for(f=-1,l=0;++f<u;)if(n[f]!=p[f]){l=n[f]>p[f]?1:-1;break}if(!(l<0))break;for(h=m==u?n:c;m;){if(p[--m]<h[m]){for(f=m;f&&!p[--f];)p[f]=9;--p[f],p[m]+=10}p[m]-=h[m]}for(;!p[0];)p.shift()}v[w++]=l?a:++a,p[0]&&l?p[m]=i[d]||0:p=[i[d]]}while((d++<g||undefined!==p[0])&&o--);return v[0]||1==w||(v.shift(),_.e--,y--),w>y&&wt(_,y,r.RM,undefined!==p[0]),_},_t.eq=function(t){return 0===this.cmp(t)},_t.gt=function(t){return this.cmp(t)>0},_t.gte=function(t){return this.cmp(t)>-1},_t.lt=function(t){return this.cmp(t)<0},_t.lte=function(t){return this.cmp(t)<1},_t.minus=_t.sub=function(t){var e,r,i,n,o=this,s=o.constructor,u=o.s,h=(t=new s(t)).s;if(u!=h)return t.s=-h,o.plus(t);var a=o.c.slice(),l=o.e,f=t.c,c=t.e;if(!a[0]||!f[0])return f[0]?t.s=-h:a[0]?t=new s(o):t.s=1,t;if(u=l-c){for((n=u<0)?(u=-u,i=a):(c=l,i=f),i.reverse(),h=u;h--;)i.push(0);i.reverse()}else for(r=((n=a.length<f.length)?a:f).length,u=h=0;h<r;h++)if(a[h]!=f[h]){n=a[h]<f[h];break}if(n&&(i=a,a=f,f=i,t.s=-t.s),(h=(r=f.length)-(e=a.length))>0)for(;h--;)a[e++]=0;for(h=e;r>u;){if(a[--r]<f[r]){for(e=r;e&&!a[--e];)a[e]=9;--a[e],a[r]+=10}a[r]-=f[r]}for(;0===a[--h];)a.pop();for(;0===a[0];)a.shift(),--c;return a[0]||(t.s=1,a=[c=0]),t.c=a,t.e=c,t},_t.mod=function(t){var e,r=this,i=r.constructor,n=r.s,o=(t=new i(t)).s;if(!t.c[0])throw Error("[big.js] Division by zero");return r.s=t.s=1,e=1==t.cmp(r),r.s=n,t.s=o,e?new i(r):(n=i.DP,o=i.RM,i.DP=i.RM=0,r=r.div(t),i.DP=n,i.RM=o,this.minus(r.times(t)))},_t.plus=_t.add=function(t){var e,r,i,n=this,o=n.constructor;if(t=new o(t),n.s!=t.s)return t.s=-t.s,n.minus(t);var s=n.e,u=n.c,h=t.e,a=t.c;if(!u[0]||!a[0])return a[0]||(u[0]?t=new o(n):t.s=n.s),t;if(u=u.slice(),e=s-h){for(e>0?(h=s,i=a):(e=-e,i=u),i.reverse();e--;)i.push(0);i.reverse()}for(u.length-a.length<0&&(i=a,a=u,u=i),e=a.length,r=0;e;u[e]%=10)r=(u[--e]=u[e]+a[e]+r)/10|0;for(r&&(u.unshift(r),++h),e=u.length;0===u[--e];)u.pop();return t.c=u,t.e=h,t},_t.pow=function(t){var e=this,r=new e.constructor("1"),i=r,n=t<0;if(t!==~~t||t<-1e6||t>1e6)throw Error(pt+"exponent");for(n&&(t=-t);1&t&&(i=i.times(e)),t>>=1;)e=e.times(e);return n?r.div(i):i},_t.prec=function(t,e){if(t!==~~t||t<1||t>1e6)throw Error(pt+"precision");return wt(new this.constructor(this),t,e)},_t.round=function(t,e){if(undefined===t)t=0;else if(t!==~~t||t<-1e6||t>1e6)throw Error(mt);return wt(new this.constructor(this),t+this.e+1,e)},_t.sqrt=function(){var t,e,r,i=this,n=i.constructor,o=i.s,s=i.e,u=new n("0.5");if(!i.c[0])return new n(i);if(o<0)throw Error(gt+"No square root");0===(o=Math.sqrt(i+""))||o===1/0?((e=i.c.join("")).length+s&1||(e+="0"),s=((s+1)/2|0)-(s<0||1&s),t=new n(((o=Math.sqrt(e))==1/0?"5e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+s)):t=new n(o+""),s=t.e+(n.DP+=4);do{r=t,t=u.times(r.plus(i.div(r)))}while(r.c.slice(0,s).join("")!==t.c.slice(0,s).join(""));return wt(t,(n.DP-=4)+t.e+1,n.RM)},_t.times=_t.mul=function(t){var e,r=this,i=r.constructor,n=r.c,o=(t=new i(t)).c,s=n.length,u=o.length,h=r.e,a=t.e;if(t.s=r.s==t.s?1:-1,!n[0]||!o[0])return t.c=[t.e=0],t;for(t.e=h+a,s<u&&(e=n,n=o,o=e,a=s,s=u,u=a),e=new Array(a=s+u);a--;)e[a]=0;for(h=u;h--;){for(u=0,a=s+h;a>h;)u=e[a]+o[h]*n[a-h-1]+u,e[a--]=u%10,u=u/10|0;e[a]=u}for(u?++t.e:e.shift(),h=e.length;!e[--h];)e.pop();return t.c=e,t},_t.toExponential=function(t,e){var r=this,i=r.c[0];if(undefined!==t){if(t!==~~t||t<0||t>1e6)throw Error(mt);for(r=wt(new r.constructor(r),++t,e);r.c.length<t;)r.c.push(0)}return yt(r,!0,!!i)},_t.toFixed=function(t,e){var r=this,i=r.c[0];if(undefined!==t){if(t!==~~t||t<0||t>1e6)throw Error(mt);for(t=t+(r=wt(new r.constructor(r),t+r.e+1,e)).e+1;r.c.length<t;)r.c.push(0)}return yt(r,!1,!!i)},_t.toJSON=_t.toString=function(){var t=this,e=t.constructor;return yt(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])},_t.toNumber=function(){var t=Number(yt(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(t.toString()))throw Error(gt+"Imprecise conversion");return t},_t.toPrecision=function(t,e){var r=this,i=r.constructor,n=r.c[0];if(undefined!==t){if(t!==~~t||t<1||t>1e6)throw Error(pt+"precision");for(r=wt(new i(r),t,e);r.c.length<t;)r.c.push(0)}return yt(r,t<=r.e||r.e<=i.NE||r.e>=i.PE,!!n)},_t.valueOf=function(){var t=this,e=t.constructor;if(!0===e.strict)throw Error(gt+"valueOf disallowed");return yt(t,t.e<=e.NE||t.e>=e.PE,!0)};var Mt=function t(){function e(r){var i=this;if(!(i instanceof e))return undefined===r?t():new e(r);if(r instanceof e)i.s=r.s,i.e=r.e,i.c=r.c.slice();else{if("string"!=typeof r){if(!0===e.strict)throw TypeError(pt+"number");r=0===r&&1/r<0?"-0":String(r)}!function(t,e){var r,i,n;if(!vt.test(e))throw Error(pt+"number");t.s="-"==e.charAt(0)?(e=e.slice(1),-1):1,(r=e.indexOf("."))>-1&&(e=e.replace(".",""));(i=e.search(/e/i))>0?(r<0&&(r=i),r+=+e.slice(i+1),e=e.substring(0,i)):r<0&&(r=e.length);for(n=e.length,i=0;i<n&&"0"==e.charAt(i);)++i;if(i==n)t.c=[t.e=0];else{for(;n>0&&"0"==e.charAt(--n););for(t.e=r-i-1,t.c=[],r=0;i<=n;)t.c[r++]=+e.charAt(i++)}}(i,r)}i.constructor=e}return e.prototype=_t,e.DP=20,e.RM=1,e.NE=-7,e.PE=21,e.strict=false,e.roundDown=0,e.roundHalfUp=1,e.roundHalfEven=2,e.roundUp=3,e}(),bt={exports:{}};!function(t){t.exports&&(t.exports=function(t){return t.prototype.toFormat=function(t,e,r){if(!this.e&&0!==this.e)return this.toString();var i,n,o,s,u,h,a,l,f,c,d,g,p,m,_,v=this.format||{},w=this.constructor.format||{};if(t!=u?"object"==typeof t?(r=t,t=u):e!=u?"object"==typeof e?(r=e,e=u):"object"!=typeof r&&(r={}):r={}:r={},l=(i=this.toFixed(t,e).split("."))[0],f=i[1],h=(a=this.s<0?l.slice(1):l).length,(c=r.decimalSeparator)==u&&(c=v.decimalSeparator)==u&&(c=w.decimalSeparator)==u&&(c="."),(d=r.groupSeparator)==u&&(d=v.groupSeparator)==u&&(d=w.groupSeparator),d&&((g=r.groupSize)==u&&(g=v.groupSize)==u&&(g=w.groupSize)==u&&(g=0),(p=r.secondaryGroupSize)==u&&(p=v.secondaryGroupSize)==u&&(p=w.secondaryGroupSize)==u&&(p=0),p?(n=+p,h-=o=+g):(n=+g,o=+p),n>0&&h>0)){for(s=h%n||n,l=a.substr(0,s);s<h;s+=n)l+=d+a.substr(s,n);o>0&&(l+=d+a.slice(s)),this.s<0&&(l="-"+l)}return f?((m=r.fractionGroupSeparator)==u&&(m=v.fractionGroupSeparator)==u&&(m=w.fractionGroupSeparator),m&&((_=r.fractionGroupSize)==u&&(_=v.fractionGroupSize)==u&&(_=w.fractionGroupSize)==u&&(_=0),(_=+_)&&(f=f.replace(new RegExp("\\d{"+_+"}\\B","g"),"$&"+m))),l+c+f):l},t.format={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"",fractionGroupSize:0},t})}(bt);var Et,At=bt.exports,Nt=!0,xt="[DecimalError] ",It=xt+"Invalid argument: ",St=xt+"Exponent out of range: ",Tt=Math.floor,Ct=Math.pow,Rt=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Dt=1e7,Ot=Tt(1286742750677284.5),Bt={};function kt(t,e){var r,i,n,o,s,u,h,a,l=t.constructor,f=l.precision;if(!t.s||!e.s)return e.s||(e=new l(t)),Nt?Wt(e,f):e;if(h=t.d,a=e.d,s=t.e,n=e.e,h=h.slice(),o=s-n){for(o<0?(i=h,o=-o,u=a.length):(i=a,n=s,u=h.length),o>(u=(s=Math.ceil(f/7))>u?s+1:u+1)&&(o=u,i.length=1),i.reverse();o--;)i.push(0);i.reverse()}for((u=h.length)-(o=a.length)<0&&(o=u,i=a,a=h,h=i),r=0;o;)r=(h[--o]=h[o]+a[o]+r)/Dt|0,h[o]%=Dt;for(r&&(h.unshift(r),++n),u=h.length;0==h[--u];)h.pop();return e.d=h,e.e=n,Nt?Wt(e,f):e}function Pt(t,e,r){if(t!==~~t||t<e||t>r)throw Error(It+t)}function Ut(t){var e,r,i,n=t.length-1,o="",s=t[0];if(n>0){for(o+=s,e=1;e<n;e++)(r=7-(i=t[e]+"").length)&&(o+=Gt(r)),o+=i;(r=7-(i=(s=t[e])+"").length)&&(o+=Gt(r))}else if(0===s)return"0";for(;s%10==0;)s/=10;return o+s}Bt.absoluteValue=Bt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t},Bt.comparedTo=Bt.cmp=function(t){var e,r,i,n,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(e=0,r=(i=o.d.length)<(n=t.d.length)?i:n;e<r;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return i===n?0:i>n^o.s<0?1:-1},Bt.decimalPlaces=Bt.dp=function(){var t=this,e=t.d.length-1,r=7*(e-t.e);if(e=t.d[e])for(;e%10==0;e/=10)r--;return r<0?0:r},Bt.dividedBy=Bt.div=function(t){return qt(this,new this.constructor(t))},Bt.dividedToIntegerBy=Bt.idiv=function(t){var e=this.constructor;return Wt(qt(this,new e(t),0,1),e.precision)},Bt.equals=Bt.eq=function(t){return!this.cmp(t)},Bt.exponent=function(){return Lt(this)},Bt.greaterThan=Bt.gt=function(t){return this.cmp(t)>0},Bt.greaterThanOrEqualTo=Bt.gte=function(t){return this.cmp(t)>=0},Bt.isInteger=Bt.isint=function(){return this.e>this.d.length-2},Bt.isNegative=Bt.isneg=function(){return this.s<0},Bt.isPositive=Bt.ispos=function(){return this.s>0},Bt.isZero=function(){return 0===this.s},Bt.lessThan=Bt.lt=function(t){return this.cmp(t)<0},Bt.lessThanOrEqualTo=Bt.lte=function(t){return this.cmp(t)<1},Bt.logarithm=Bt.log=function(t){var e,r=this,i=r.constructor,n=i.precision,o=n+5;if(void 0===t)t=new i(10);else if((t=new i(t)).s<1||t.eq(Et))throw Error(xt+"NaN");if(r.s<1)throw Error(xt+(r.s?"NaN":"-Infinity"));return r.eq(Et)?new i(0):(Nt=!1,e=qt(Ht(r,o),Ht(t,o),o),Nt=!0,Wt(e,n))},Bt.minus=Bt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Kt(e,t):kt(e,(t.s=-t.s,t))},Bt.modulo=Bt.mod=function(t){var e,r=this,i=r.constructor,n=i.precision;if(!(t=new i(t)).s)throw Error(xt+"NaN");return r.s?(Nt=!1,e=qt(r,t,0,1).times(t),Nt=!0,r.minus(e)):Wt(new i(r),n)},Bt.naturalExponential=Bt.exp=function(){return Ft(this)},Bt.naturalLogarithm=Bt.ln=function(){return Ht(this)},Bt.negated=Bt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t},Bt.plus=Bt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?kt(e,t):Kt(e,(t.s=-t.s,t))},Bt.precision=Bt.sd=function(t){var e,r,i,n=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(It+t);if(e=Lt(n)+1,r=7*(i=n.d.length-1)+1,i=n.d[i]){for(;i%10==0;i/=10)r--;for(i=n.d[0];i>=10;i/=10)r++}return t&&e>r?e:r},Bt.squareRoot=Bt.sqrt=function(){var t,e,r,i,n,o,s,u=this,h=u.constructor;if(u.s<1){if(!u.s)return new h(0);throw Error(xt+"NaN")}for(t=Lt(u),Nt=!1,0==(n=Math.sqrt(+u))||n==1/0?(((e=Ut(u.d)).length+t)%2==0&&(e+="0"),n=Math.sqrt(e),t=Tt((t+1)/2)-(t<0||t%2),i=new h(e=n==1/0?"5e"+t:(e=n.toExponential()).slice(0,e.indexOf("e")+1)+t)):i=new h(n.toString()),n=s=(r=h.precision)+3;;)if(i=(o=i).plus(qt(u,o,s+2)).times(.5),Ut(o.d).slice(0,s)===(e=Ut(i.d)).slice(0,s)){if(e=e.slice(s-3,s+1),n==s&&"4999"==e){if(Wt(o,r+1,0),o.times(o).eq(u)){i=o;break}}else if("9999"!=e)break;s+=4}return Nt=!0,Wt(i,r)},Bt.times=Bt.mul=function(t){var e,r,i,n,o,s,u,h,a,l=this,f=l.constructor,c=l.d,d=(t=new f(t)).d;if(!l.s||!t.s)return new f(0);for(t.s*=l.s,r=l.e+t.e,(h=c.length)<(a=d.length)&&(o=c,c=d,d=o,s=h,h=a,a=s),o=[],i=s=h+a;i--;)o.push(0);for(i=a;--i>=0;){for(e=0,n=h+i;n>i;)u=o[n]+d[i]*c[n-i-1]+e,o[n--]=u%Dt|0,e=u/Dt|0;o[n]=(o[n]+e)%Dt|0}for(;!o[--s];)o.pop();return e?++r:o.shift(),t.d=o,t.e=r,Nt?Wt(t,f.precision):t},Bt.toDecimalPlaces=Bt.todp=function(t,e){var r=this,i=r.constructor;return r=new i(r),void 0===t?r:(Pt(t,0,1e9),void 0===e?e=i.rounding:Pt(e,0,8),Wt(r,t+Lt(r)+1,e))},Bt.toExponential=function(t,e){var r,i=this,n=i.constructor;return void 0===t?r=Xt(i,!0):(Pt(t,0,1e9),void 0===e?e=n.rounding:Pt(e,0,8),r=Xt(i=Wt(new n(i),t+1,e),!0,t+1)),r},Bt.toFixed=function(t,e){var r,i,n=this,o=n.constructor;return void 0===t?Xt(n):(Pt(t,0,1e9),void 0===e?e=o.rounding:Pt(e,0,8),r=Xt((i=Wt(new o(n),t+Lt(n)+1,e)).abs(),!1,t+Lt(i)+1),n.isneg()&&!n.isZero()?"-"+r:r)},Bt.toInteger=Bt.toint=function(){var t=this,e=t.constructor;return Wt(new e(t),Lt(t)+1,e.rounding)},Bt.toNumber=function(){return+this},Bt.toPower=Bt.pow=function(t){var e,r,i,n,o,s,u=this,h=u.constructor,a=+(t=new h(t));if(!t.s)return new h(Et);if(!(u=new h(u)).s){if(t.s<1)throw Error(xt+"Infinity");return u}if(u.eq(Et))return u;if(i=h.precision,t.eq(Et))return Wt(u,i);if(s=(e=t.e)>=(r=t.d.length-1),o=u.s,s){if((r=a<0?-a:a)<=9007199254740991){for(n=new h(Et),e=Math.ceil(i/7+4),Nt=!1;r%2&&Zt((n=n.times(u)).d,e),0!==(r=Tt(r/2));)Zt((u=u.times(u)).d,e);return Nt=!0,t.s<0?new h(Et).div(n):Wt(n,i)}}else if(o<0)throw Error(xt+"NaN");return o=o<0&&1&t.d[Math.max(e,r)]?-1:1,u.s=1,Nt=!1,n=t.times(Ht(u,i+12)),Nt=!0,(n=Ft(n)).s=o,n},Bt.toPrecision=function(t,e){var r,i,n=this,o=n.constructor;return void 0===t?i=Xt(n,(r=Lt(n))<=o.toExpNeg||r>=o.toExpPos):(Pt(t,1,1e9),void 0===e?e=o.rounding:Pt(e,0,8),i=Xt(n=Wt(new o(n),t,e),t<=(r=Lt(n))||r<=o.toExpNeg,t)),i},Bt.toSignificantDigits=Bt.tosd=function(t,e){var r=this.constructor;return void 0===t?(t=r.precision,e=r.rounding):(Pt(t,1,1e9),void 0===e?e=r.rounding:Pt(e,0,8)),Wt(new r(this),t,e)},Bt.toString=Bt.valueOf=Bt.val=Bt.toJSON=Bt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Lt(t),r=t.constructor;return Xt(t,e<=r.toExpNeg||e>=r.toExpPos)};var qt=function(){function t(t,e){var r,i=0,n=t.length;for(t=t.slice();n--;)r=t[n]*e+i,t[n]=r%Dt|0,i=r/Dt|0;return i&&t.unshift(i),t}function e(t,e,r,i){var n,o;if(r!=i)o=r>i?1:-1;else for(n=o=0;n<r;n++)if(t[n]!=e[n]){o=t[n]>e[n]?1:-1;break}return o}function r(t,e,r){for(var i=0;r--;)t[r]-=i,i=t[r]<e[r]?1:0,t[r]=i*Dt+t[r]-e[r];for(;!t[0]&&t.length>1;)t.shift()}return function(i,n,o,s){var u,h,a,l,f,c,d,g,p,m,_,v,w,y,M,b,E,A,N=i.constructor,x=i.s==n.s?1:-1,I=i.d,S=n.d;if(!i.s)return new N(i);if(!n.s)throw Error(xt+"Division by zero");for(h=i.e-n.e,E=S.length,M=I.length,g=(d=new N(x)).d=[],a=0;S[a]==(I[a]||0);)++a;if(S[a]>(I[a]||0)&&--h,(v=null==o?o=N.precision:s?o+(Lt(i)-Lt(n))+1:o)<0)return new N(0);if(v=v/7+2|0,a=0,1==E)for(l=0,S=S[0],v++;(a<M||l)&&v--;a++)w=l*Dt+(I[a]||0),g[a]=w/S|0,l=w%S|0;else{for((l=Dt/(S[0]+1)|0)>1&&(S=t(S,l),I=t(I,l),E=S.length,M=I.length),y=E,m=(p=I.slice(0,E)).length;m<E;)p[m++]=0;(A=S.slice()).unshift(0),b=S[0],S[1]>=Dt/2&&++b;do{l=0,(u=e(S,p,E,m))<0?(_=p[0],E!=m&&(_=_*Dt+(p[1]||0)),(l=_/b|0)>1?(l>=Dt&&(l=Dt-1),1==(u=e(f=t(S,l),p,c=f.length,m=p.length))&&(l--,r(f,E<c?A:S,c))):(0==l&&(u=l=1),f=S.slice()),(c=f.length)<m&&f.unshift(0),r(p,f,m),-1==u&&(u=e(S,p,E,m=p.length))<1&&(l++,r(p,E<m?A:S,m)),m=p.length):0===u&&(l++,p=[0]),g[a++]=l,u&&p[0]?p[m++]=I[y]||0:(p=[I[y]],m=1)}while((y++<M||void 0!==p[0])&&v--)}return g[0]||g.shift(),d.e=h,Wt(d,s?o+Lt(d)+1:o)}}();function Ft(t,e){var r,i,n,o,s,u=0,h=0,a=t.constructor,l=a.precision;if(Lt(t)>16)throw Error(St+Lt(t));if(!t.s)return new a(Et);for(null==e?(Nt=!1,s=l):s=e,o=new a(.03125);t.abs().gte(.1);)t=t.times(o),h+=5;for(s+=Math.log(Ct(2,h))/Math.LN10*2+5|0,r=i=n=new a(Et),a.precision=s;;){if(i=Wt(i.times(t),s),r=r.times(++u),Ut((o=n.plus(qt(i,r,s))).d).slice(0,s)===Ut(n.d).slice(0,s)){for(;h--;)n=Wt(n.times(n),s);return a.precision=l,null==e?(Nt=!0,Wt(n,l)):n}n=o}}function Lt(t){for(var e=7*t.e,r=t.d[0];r>=10;r/=10)e++;return e}function zt(t,e,r){if(e>t.LN10.sd())throw Nt=!0,r&&(t.precision=r),Error(xt+"LN10 precision limit exceeded");return Wt(new t(t.LN10),e)}function Gt(t){for(var e="";t--;)e+="0";return e}function Ht(t,e){var r,i,n,o,s,u,h,a,l,f=1,c=t,d=c.d,g=c.constructor,p=g.precision;if(c.s<1)throw Error(xt+(c.s?"NaN":"-Infinity"));if(c.eq(Et))return new g(0);if(null==e?(Nt=!1,a=p):a=e,c.eq(10))return null==e&&(Nt=!0),zt(g,a);if(a+=10,g.precision=a,i=(r=Ut(d)).charAt(0),o=Lt(c),!(Math.abs(o)<15e14))return h=zt(g,a+2,p).times(o+""),c=Ht(new g(i+"."+r.slice(1)),a-10).plus(h),g.precision=p,null==e?(Nt=!0,Wt(c,p)):c;for(;i<7&&1!=i||1==i&&r.charAt(1)>3;)i=(r=Ut((c=c.times(t)).d)).charAt(0),f++;for(o=Lt(c),i>1?(c=new g("0."+r),o++):c=new g(i+"."+r.slice(1)),u=s=c=qt(c.minus(Et),c.plus(Et),a),l=Wt(c.times(c),a),n=3;;){if(s=Wt(s.times(l),a),Ut((h=u.plus(qt(s,new g(n),a))).d).slice(0,a)===Ut(u.d).slice(0,a))return u=u.times(2),0!==o&&(u=u.plus(zt(g,a+2,p).times(o+""))),u=qt(u,new g(f),a),g.precision=p,null==e?(Nt=!0,Wt(u,p)):u;u=h,n+=2}}function jt(t,e){var r,i,n;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(r<0&&(r=i),r+=+e.slice(i+1),e=e.substring(0,i)):r<0&&(r=e.length),i=0;48===e.charCodeAt(i);)++i;for(n=e.length;48===e.charCodeAt(n-1);)--n;if(e=e.slice(i,n)){if(n-=i,r=r-i-1,t.e=Tt(r/7),t.d=[],i=(r+1)%7,r<0&&(i+=7),i<n){for(i&&t.d.push(+e.slice(0,i)),n-=7;i<n;)t.d.push(+e.slice(i,i+=7));i=7-(e=e.slice(i)).length}else i-=n;for(;i--;)e+="0";if(t.d.push(+e),Nt&&(t.e>Ot||t.e<-Ot))throw Error(St+r)}else t.s=0,t.e=0,t.d=[0];return t}function Wt(t,e,r){var i,n,o,s,u,h,a,l,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if((i=e-s)<0)i+=7,n=e,a=f[l=0];else{if((l=Math.ceil((i+1)/7))>=(o=f.length))return t;for(a=o=f[l],s=1;o>=10;o/=10)s++;n=(i%=7)-7+s}if(void 0!==r&&(u=a/(o=Ct(10,s-n-1))%10|0,h=e<0||void 0!==f[l+1]||a%o,h=r<4?(u||h)&&(0==r||r==(t.s<0?3:2)):u>5||5==u&&(4==r||h||6==r&&(i>0?n>0?a/Ct(10,s-n):0:f[l-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return h?(o=Lt(t),f.length=1,e=e-o-1,f[0]=Ct(10,(7-e%7)%7),t.e=Tt(-e/7)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(0==i?(f.length=l,o=1,l--):(f.length=l+1,o=Ct(10,7-i),f[l]=n>0?(a/Ct(10,s-n)%Ct(10,n)|0)*o:0),h)for(;;){if(0==l){(f[0]+=o)==Dt&&(f[0]=1,++t.e);break}if(f[l]+=o,f[l]!=Dt)break;f[l--]=0,o=1}for(i=f.length;0===f[--i];)f.pop();if(Nt&&(t.e>Ot||t.e<-Ot))throw Error(St+Lt(t));return t}function Kt(t,e){var r,i,n,o,s,u,h,a,l,f,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new c(t),Nt?Wt(e,d):e;if(h=t.d,f=e.d,i=e.e,a=t.e,h=h.slice(),s=a-i){for((l=s<0)?(r=h,s=-s,u=f.length):(r=f,i=a,u=h.length),s>(n=Math.max(Math.ceil(d/7),u)+2)&&(s=n,r.length=1),r.reverse(),n=s;n--;)r.push(0);r.reverse()}else{for((l=(n=h.length)<(u=f.length))&&(u=n),n=0;n<u;n++)if(h[n]!=f[n]){l=h[n]<f[n];break}s=0}for(l&&(r=h,h=f,f=r,e.s=-e.s),u=h.length,n=f.length-u;n>0;--n)h[u++]=0;for(n=f.length;n>s;){if(h[--n]<f[n]){for(o=n;o&&0===h[--o];)h[o]=Dt-1;--h[o],h[n]+=Dt}h[n]-=f[n]}for(;0===h[--u];)h.pop();for(;0===h[0];h.shift())--i;return h[0]?(e.d=h,e.e=i,Nt?Wt(e,d):e):new c(0)}function Xt(t,e,r){var i,n=Lt(t),o=Ut(t.d),s=o.length;return e?(r&&(i=r-s)>0?o=o.charAt(0)+"."+o.slice(1)+Gt(i):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(n<0?"e":"e+")+n):n<0?(o="0."+Gt(-n-1)+o,r&&(i=r-s)>0&&(o+=Gt(i))):n>=s?(o+=Gt(n+1-s),r&&(i=r-n-1)>0&&(o=o+"."+Gt(i))):((i=n+1)<s&&(o=o.slice(0,i)+"."+o.slice(i)),r&&(i=r-s)>0&&(n+1===s&&(o+="."),o+=Gt(i))),t.s<0?"-"+o:o}function Zt(t,e){if(t.length>e)return t.length=e,!0}function Vt(t){if(!t||"object"!=typeof t)throw Error(xt+"Object expected");var e,r,i,n=["precision",1,1e9,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<n.length;e+=3)if(void 0!==(i=t[r=n[e]])){if(!(Tt(i)===i&&i>=n[e+1]&&i<=n[e+2]))throw Error(It+r+": "+i);this[r]=i}if(void 0!==(i=t[r="LN10"])){if(i!=Math.LN10)throw Error(It+r+": "+i);this[r]=new this(i)}return this}var $t=function t(e){var r,i,n;function o(t){var e=this;if(!(e instanceof o))return new o(t);if(e.constructor=o,t instanceof o)return e.s=t.s,e.e=t.e,void(e.d=(t=t.d)?t.slice():t);if("number"==typeof t){if(0*t!=0)throw Error(It+t);if(t>0)e.s=1;else{if(!(t<0))return e.s=0,e.e=0,void(e.d=[0]);t=-t,e.s=-1}return t===~~t&&t<1e7?(e.e=0,void(e.d=[t])):jt(e,t.toString())}if("string"!=typeof t)throw Error(It+t);if(45===t.charCodeAt(0)?(t=t.slice(1),e.s=-1):e.s=1,!Rt.test(t))throw Error(It+t);jt(e,t)}if(o.prototype=Bt,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=t,o.config=o.set=Vt,void 0===e&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<n.length;)e.hasOwnProperty(i=n[r++])||(e[i]=this[i]);return o.config(e),o}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});Et=new $t(1);const Yt=At($t),Jt=At(Mt),Qt={[exports.Rounding.ROUND_DOWN]:Yt.ROUND_DOWN,[exports.Rounding.ROUND_HALF_UP]:Yt.ROUND_HALF_UP,[exports.Rounding.ROUND_UP]:Yt.ROUND_UP},te={[exports.Rounding.ROUND_DOWN]:0,[exports.Rounding.ROUND_HALF_UP]:1,[exports.Rounding.ROUND_UP]:3};class ee{constructor(e,r=t.BigInt(1)){this.numerator=t.BigInt(e),this.denominator=t.BigInt(r)}static tryParseFraction(e){if(e instanceof t||"number"==typeof e||"string"==typeof e)return new ee(e);if("numerator"in e&&"denominator"in e)return e;throw new Error("Could not parse fraction")}get quotient(){return t.divide(this.numerator,this.denominator)}get remainder(){return new ee(t.remainder(this.numerator,this.denominator),this.denominator)}invert(){return new ee(this.denominator,this.numerator)}add(e){const r=ee.tryParseFraction(e);return t.equal(this.denominator,r.denominator)?new ee(t.add(this.numerator,r.numerator),this.denominator):new ee(t.add(t.multiply(this.numerator,r.denominator),t.multiply(r.numerator,this.denominator)),t.multiply(this.denominator,r.denominator))}subtract(e){const r=ee.tryParseFraction(e);return t.equal(this.denominator,r.denominator)?new ee(t.subtract(this.numerator,r.numerator),this.denominator):new ee(t.subtract(t.multiply(this.numerator,r.denominator),t.multiply(r.numerator,this.denominator)),t.multiply(this.denominator,r.denominator))}lessThan(e){const r=ee.tryParseFraction(e);return t.lessThan(t.multiply(this.numerator,r.denominator),t.multiply(r.numerator,this.denominator))}equalTo(e){const r=ee.tryParseFraction(e);return t.equal(t.multiply(this.numerator,r.denominator),t.multiply(r.numerator,this.denominator))}greaterThan(e){const r=ee.tryParseFraction(e);return t.greaterThan(t.multiply(this.numerator,r.denominator),t.multiply(r.numerator,this.denominator))}multiply(e){const r=ee.tryParseFraction(e);return new ee(t.multiply(this.numerator,r.numerator),t.multiply(this.denominator,r.denominator))}divide(e){const r=ee.tryParseFraction(e);return new ee(t.multiply(this.numerator,r.denominator),t.multiply(this.denominator,r.numerator))}toSignificant(t,e={groupSeparator:""},r=exports.Rounding.ROUND_HALF_UP){v(Number.isInteger(t),`${t} is not an integer.`),v(t>0,`${t} is not positive.`),Yt.set({precision:t+1,rounding:Qt[r]});const i=new Yt(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(t);return i.toFormat(i.decimalPlaces(),e)}toFixed(t,e={groupSeparator:""},r=exports.Rounding.ROUND_HALF_UP){return v(Number.isInteger(t),`${t} is not an integer.`),v(t>=0,`${t} is negative.`),Jt.DP=t,Jt.RM=te[r],new Jt(this.numerator.toString()).div(this.denominator.toString()).toFormat(t,e)}get asFraction(){return new ee(this.numerator,this.denominator)}}const re=At(Mt);class ie extends ee{constructor(e,r,i){super(r,i),v(t.lessThanOrEqual(this.quotient,l),"AMOUNT"),this.currency=e,this.decimalScale=t.exponentiate(t.BigInt(10),t.BigInt(e.decimals))}static fromRawAmount(t,e){return new ie(t,e)}static fromFractionalAmount(t,e,r){return new ie(t,e,r)}add(t){v(this.currency.equals(t.currency),"CURRENCY");const e=super.add(t);return ie.fromFractionalAmount(this.currency,e.numerator,e.denominator)}subtract(t){v(this.currency.equals(t.currency),"CURRENCY");const e=super.subtract(t);return ie.fromFractionalAmount(this.currency,e.numerator,e.denominator)}multiply(t){const e=super.multiply(t);return ie.fromFractionalAmount(this.currency,e.numerator,e.denominator)}divide(t){const e=super.divide(t);return ie.fromFractionalAmount(this.currency,e.numerator,e.denominator)}toSignificant(t=6,e,r=exports.Rounding.ROUND_DOWN){return super.divide(this.decimalScale).toSignificant(t,e,r)}toFixed(t=this.currency.decimals,e,r=exports.Rounding.ROUND_DOWN){return v(t<=this.currency.decimals,"DECIMALS"),super.divide(this.decimalScale).toFixed(t,e,r)}toExact(t={groupSeparator:""}){return re.DP=this.currency.decimals,new re(this.quotient.toString()).div(this.decimalScale.toString()).toFormat(t)}get wrapped(){return this.currency.isToken?this:ie.fromFractionalAmount(this.currency.wrapped,this.numerator,this.denominator)}}const ne=new ee(t.BigInt(100));function oe(t){return new se(t.numerator,t.denominator)}class se extends ee{constructor(){super(...arguments),this.isPercent=!0}add(t){return oe(super.add(t))}subtract(t){return oe(super.subtract(t))}multiply(t){return oe(super.multiply(t))}divide(t){return oe(super.divide(t))}toSignificant(t=5,e,r){return super.multiply(ne).toSignificant(t,e,r)}toFixed(t=2,e,r){return super.multiply(ne).toFixed(t,e,r)}}class ue extends ee{constructor(...e){let r,i,n,o;if(4===e.length)[r,i,n,o]=e;else{const t=e[0].quoteAmount.divide(e[0].baseAmount);[r,i,n,o]=[e[0].baseAmount.currency,e[0].quoteAmount.currency,t.denominator,t.numerator]}super(o,n),this.baseCurrency=r,this.quoteCurrency=i,this.scalar=new ee(t.exponentiate(t.BigInt(10),t.BigInt(r.decimals)),t.exponentiate(t.BigInt(10),t.BigInt(i.decimals)))}invert(){return new ue(this.quoteCurrency,this.baseCurrency,this.numerator,this.denominator)}multiply(t){v(this.quoteCurrency.equals(t.baseCurrency),"TOKEN");const e=super.multiply(t);return new ue(this.baseCurrency,t.quoteCurrency,e.denominator,e.numerator)}quote(t){v(t.currency.equals(this.baseCurrency),"TOKEN");const e=super.multiply(t);return ie.fromFractionalAmount(this.quoteCurrency,e.numerator,e.denominator)}get adjustedForDecimals(){return super.multiply(this.scalar)}toSignificant(t=6,e,r){return this.adjustedForDecimals.toSignificant(t,e,r)}toFixed(t=4,e,r){return this.adjustedForDecimals.toFixed(t,e,r)}}const he=new C("strings/5.5.0");var ae,le;function fe(t,e,r,i,n){if(t===le.BAD_PREFIX||t===le.UNEXPECTED_CONTINUE){let t=0;for(let i=e+1;i<r.length&&r[i]>>6==2;i++)t++;return t}return t===le.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(ae||(ae={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(le||(le={})),Object.freeze({error:function(t,e,r,i,n){return he.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:fe,replace:function(t,e,r,i,n){return t===le.OVERLONG?(i.push(n),0):(i.push(65533),fe(t,e,r))}});const ce=new RegExp("^bytes([0-9]+)$"),de=new RegExp("^(u?int)([0-9]*)$"),ge=new RegExp("^(.*)\\[([0-9]*)\\]$"),pe=new C("solidity/5.5.0");function me(t,e,r){switch(t){case"address":return r?q(e,32):P(e);case"string":return function(t,e=ae.current){e!=ae.current&&(he.checkNormalize(),t=t.normalize(e));let r=[];for(let e=0;e<t.length;e++){const i=t.charCodeAt(e);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(63&i|128);else if(55296==(64512&i)){e++;const n=t.charCodeAt(e);if(e>=t.length||56320!=(64512&n))throw new Error("invalid utf-8 string");const o=65536+((1023&i)<<10)+(1023&n);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(63&i|128)}return P(r)}(e);case"bytes":return P(e);case"bool":return e=e?"0x01":"0x00",r?q(e,32):P(e)}let i=t.match(de);if(i){let n=parseInt(i[2]||"256");return(i[2]&&String(n)!==i[2]||n%8!=0||0===n||n>256)&&pe.throwArgumentError("invalid number type","type",t),r&&(n=256),q(e=Z.from(e).toTwos(n),n/8)}if(i=t.match(ce),i){const n=parseInt(i[1]);return(String(n)!==i[1]||0===n||n>32)&&pe.throwArgumentError("invalid bytes type","type",t),P(e).byteLength!==n&&pe.throwArgumentError(`invalid value for ${t}`,"value",e),r?P((e+"0000000000000000000000000000000000000000000000000000000000000000").substring(0,66)):e}if(i=t.match(ge),i&&Array.isArray(e)){const r=i[1];parseInt(i[2]||String(e.length))!=e.length&&pe.throwArgumentError(`invalid array length for ${t}`,"value",e);const n=[];return e.forEach((function(t){n.push(me(r,t,!0))})),U(n)}return pe.throwArgumentError("invalid type","type",t)}function _e(t,e){t.length!=e.length&&pe.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const r=[];return t.forEach((function(t,i){r.push(me(t,e[i]))})),L(U(r))}const ve="setPrototypeOf"in Object;class we extends Error{constructor(){super(),this.name=this.constructor.name,ve&&Object.setPrototypeOf(this,new.target.prototype)}}class ye extends Error{constructor(){super(),this.name=this.constructor.name,ve&&Object.setPrototypeOf(this,new.target.prototype)}}const Me=t.BigInt(Number.MAX_SAFE_INTEGER),be=t.BigInt(0),Ee=t.BigInt(1),Ae=t.BigInt(2);function Ne(e){if(v(t.greaterThanOrEqual(e,be),"NEGATIVE"),t.lessThan(e,Me))return t.BigInt(Math.floor(Math.sqrt(t.toNumber(e))));let r,i;for(r=e,i=t.add(t.divide(e,Ae),Ee);t.lessThan(i,r);)r=i,i=t.divide(t.add(t.divide(e,i),i),Ae);return r}const xe=({factoryAddress:t,tokenA:e,tokenB:r})=>{const[i,n]=e.sortsBefore(r)?[e,r]:[r,e];return at(t,(o=["bytes"],s=[_e(["address","address"],[i.address,n.address])],rt(_e(o,s))),f[i.chainId]);var o,s};class Ie{constructor(t,e){const r=t.currency.sortsBefore(e.currency)?[t,e]:[e,t];this.liquidityToken=Ie.getLiquidityToken(r[0].currency,r[1].currency),this.tokenAmounts=r}static getAddress(t,e){return xe({factoryAddress:c[t.chainId],tokenA:t,tokenB:e})}static getLiquidityToken(t,e){return new ft(t.chainId,Ie.getAddress(t,e),18,"MLP","Maneki LP Token")}involvesToken(t){return t.equals(this.token0)||t.equals(this.token1)}get token0Price(){const t=this.tokenAmounts[1].divide(this.tokenAmounts[0]);return new ue(this.token0,this.token1,t.denominator,t.numerator)}get token1Price(){const t=this.tokenAmounts[0].divide(this.tokenAmounts[1]);return new ue(this.token1,this.token0,t.denominator,t.numerator)}priceOf(t){return v(this.involvesToken(t),"TOKEN"),t.equals(this.token0)?this.token0Price:this.token1Price}get chainId(){return this.token0.chainId}get token0(){return this.tokenAmounts[0].currency}get token1(){return this.tokenAmounts[1].currency}get reserve0(){return this.tokenAmounts[0]}get reserve1(){return this.tokenAmounts[1]}reserveOf(t){return v(this.involvesToken(t),"TOKEN"),t.equals(this.token0)?this.reserve0:this.reserve1}getOutputAmount(e){if(v(this.involvesToken(e.currency),"TOKEN"),t.equal(this.reserve0.quotient,i)||t.equal(this.reserve1.quotient,i))throw new we;const r=this.reserveOf(e.currency),n=this.reserveOf(e.currency.equals(this.token0)?this.token1:this.token0),o=t.multiply(e.quotient,s),h=t.multiply(o,n.quotient),a=t.add(t.multiply(r.quotient,u),o),l=ie.fromRawAmount(e.currency.equals(this.token0)?this.token1:this.token0,t.divide(h,a));if(t.equal(l.quotient,i))throw new ye;return[l,new Ie(r.add(e),n.subtract(l))]}getInputAmount(e){if(v(this.involvesToken(e.currency),"TOKEN"),t.equal(this.reserve0.quotient,i)||t.equal(this.reserve1.quotient,i)||t.greaterThanOrEqual(e.quotient,this.reserveOf(e.currency).quotient))throw new we;const r=this.reserveOf(e.currency),o=this.reserveOf(e.currency.equals(this.token0)?this.token1:this.token0),h=t.multiply(t.multiply(o.quotient,e.quotient),u),a=t.multiply(t.subtract(r.quotient,e.quotient),s),l=ie.fromRawAmount(e.currency.equals(this.token0)?this.token1:this.token0,t.add(t.divide(h,a),n));return[l,new Ie(o.add(l),r.subtract(e))]}getLiquidityMinted(e,n,o){v(e.currency.equals(this.liquidityToken),"LIQUIDITY");const s=n.currency.sortsBefore(o.currency)?[n,o]:[o,n];let u;if(v(s[0].currency.equals(this.token0)&&s[1].currency.equals(this.token1),"TOKEN"),t.equal(e.quotient,i))u=t.subtract(Ne(t.multiply(s[0].quotient,s[1].quotient)),r);else{const r=t.divide(t.multiply(s[0].quotient,e.quotient),this.reserve0.quotient),i=t.divide(t.multiply(s[1].quotient,e.quotient),this.reserve1.quotient);u=t.lessThanOrEqual(r,i)?r:i}if(!t.greaterThan(u,i))throw new ye;return ie.fromRawAmount(this.liquidityToken,u)}getLiquidityValue(e,r,n,s=!1,u){let h;if(v(this.involvesToken(e),"TOKEN"),v(r.currency.equals(this.liquidityToken),"TOTAL_SUPPLY"),v(n.currency.equals(this.liquidityToken),"LIQUIDITY"),v(t.lessThanOrEqual(n.quotient,r.quotient),"LIQUIDITY"),s){v(!!u,"K_LAST");const e=t.BigInt(u);if(t.equal(e,i))h=r;else{const i=Ne(t.multiply(this.reserve0.quotient,this.reserve1.quotient)),n=Ne(e);if(t.greaterThan(i,n)){const e=t.multiply(r.quotient,t.subtract(i,n)),s=t.add(t.multiply(i,o),n),u=t.divide(e,s);h=r.add(ie.fromRawAmount(this.liquidityToken,u))}else h=r}}else h=r;return ie.fromRawAmount(e,t.divide(t.multiply(n.quotient,this.reserveOf(e).quotient),h.quotient))}}class Se{constructor(t,e,r){this._midPrice=null,v(t.length>0,"PAIRS");const i=t[0].chainId;v(t.every((t=>t.chainId===i)),"CHAIN_IDS");const n=e.wrapped;v(t[0].involvesToken(n),"INPUT"),v(void 0===r||t[t.length-1].involvesToken(r.wrapped),"OUTPUT");const o=[n];for(const[e,r]of t.entries()){const t=o[e];v(t.equals(r.token0)||t.equals(r.token1),"PATH");const i=t.equals(r.token0)?r.token1:r.token0;o.push(i)}this.pairs=t,this.path=o,this.input=e,this.output=r}get midPrice(){if(null!==this._midPrice)return this._midPrice;const t=[];for(const[e,r]of this.pairs.entries())t.push(this.path[e].equals(r.token0)?new ue(r.reserve0.currency,r.reserve1.currency,r.reserve0.quotient,r.reserve1.quotient):new ue(r.reserve1.currency,r.reserve0.currency,r.reserve1.quotient,r.reserve0.quotient));const e=t.slice(1).reduce(((t,e)=>t.multiply(e)),t[0]);return this._midPrice=new ue(this.input,this.output,e.denominator,e.numerator)}get chainId(){return this.pairs[0].chainId}}function Te(t,e,r){const i=t.quote(e),n=i.subtract(r).divide(i);return new se(n.numerator,n.denominator)}function Ce(t,e,r,i){if(v(r>0,"MAX_SIZE_ZERO"),v(t.length<=r,"ITEMS_SIZE"),0===t.length)return t.push(e),null;{const n=t.length===r;if(n&&i(t[t.length-1],e)<=0)return e;let o=0,s=t.length;for(;o<s;){const r=o+s>>>1;i(t[r],e)<=0?o=r+1:s=r}return t.splice(o,0,e),n?t.pop():null}}function Re(t,e){return v(t.inputAmount.currency.equals(e.inputAmount.currency),"INPUT_CURRENCY"),v(t.outputAmount.currency.equals(e.outputAmount.currency),"OUTPUT_CURRENCY"),t.outputAmount.equalTo(e.outputAmount)?t.inputAmount.equalTo(e.inputAmount)?0:t.inputAmount.lessThan(e.inputAmount)?-1:1:t.outputAmount.lessThan(e.outputAmount)?1:-1}function De(t,e){const r=Re(t,e);return 0!==r?r:t.priceImpact.lessThan(e.priceImpact)?-1:t.priceImpact.greaterThan(e.priceImpact)?1:t.route.path.length-e.route.path.length}class Oe{constructor(t,e,r){this.route=t,this.tradeType=r;const i=new Array(t.path.length);if(r===exports.TradeType.EXACT_INPUT){v(e.currency.equals(t.input),"INPUT"),i[0]=e.wrapped;for(let e=0;e<t.path.length-1;e++){const r=t.pairs[e],[n]=r.getOutputAmount(i[e]);i[e+1]=n}this.inputAmount=ie.fromFractionalAmount(t.input,e.numerator,e.denominator),this.outputAmount=ie.fromFractionalAmount(t.output,i[i.length-1].numerator,i[i.length-1].denominator)}else{v(e.currency.equals(t.output),"OUTPUT"),i[i.length-1]=e.wrapped;for(let e=t.path.length-1;e>0;e--){const r=t.pairs[e-1],[n]=r.getInputAmount(i[e]);i[e-1]=n}this.inputAmount=ie.fromFractionalAmount(t.input,i[0].numerator,i[0].denominator),this.outputAmount=ie.fromFractionalAmount(t.output,e.numerator,e.denominator)}this.executionPrice=new ue(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient),this.priceImpact=Te(t.midPrice,this.inputAmount,this.outputAmount)}static exactIn(t,e){return new Oe(t,e,exports.TradeType.EXACT_INPUT)}static exactOut(t,e){return new Oe(t,e,exports.TradeType.EXACT_OUTPUT)}minimumAmountOut(t){if(v(!t.lessThan(i),"SLIPPAGE_TOLERANCE"),this.tradeType===exports.TradeType.EXACT_OUTPUT)return this.outputAmount;{const e=new ee(n).add(t).invert().multiply(this.outputAmount.quotient).quotient;return ie.fromRawAmount(this.outputAmount.currency,e)}}maximumAmountIn(t){if(v(!t.lessThan(i),"SLIPPAGE_TOLERANCE"),this.tradeType===exports.TradeType.EXACT_INPUT)return this.inputAmount;{const e=new ee(n).add(t).multiply(this.inputAmount.quotient).quotient;return ie.fromRawAmount(this.inputAmount.currency,e)}}static bestTradeExactIn(t,e,r,{maxNumResults:n=3,maxHops:o=3}={},s=[],u=e,h=[]){v(t.length>0,"PAIRS"),v(o>0,"MAX_HOPS"),v(e===u||s.length>0,"INVALID_RECURSION");const a=u.wrapped,l=r.wrapped;for(let u=0;u<t.length;u++){const f=t[u];if(!f.token0.equals(a.currency)&&!f.token1.equals(a.currency))continue;if(f.reserve0.equalTo(i)||f.reserve1.equalTo(i))continue;let c;try{[c]=f.getOutputAmount(a)}catch(t){if(t instanceof ye)continue;throw t}if(c.currency.equals(l))Ce(h,new Oe(new Se([...s,f],e.currency,r),e,exports.TradeType.EXACT_INPUT),n,De);else if(o>1&&t.length>1){const i=t.slice(0,u).concat(t.slice(u+1,t.length));Oe.bestTradeExactIn(i,e,r,{maxNumResults:n,maxHops:o-1},[...s,f],c,h)}}return h}worstExecutionPrice(t){return new ue(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(t).quotient,this.minimumAmountOut(t).quotient)}static bestTradeExactOut(t,e,r,{maxNumResults:n=3,maxHops:o=3}={},s=[],u=r,h=[]){v(t.length>0,"PAIRS"),v(o>0,"MAX_HOPS"),v(r===u||s.length>0,"INVALID_RECURSION");const a=u.wrapped,l=e.wrapped;for(let u=0;u<t.length;u++){const f=t[u];if(!f.token0.equals(a.currency)&&!f.token1.equals(a.currency))continue;if(f.reserve0.equalTo(i)||f.reserve1.equalTo(i))continue;let c;try{[c]=f.getInputAmount(a)}catch(t){if(t instanceof we)continue;throw t}if(c.currency.equals(l))Ce(h,new Oe(new Se([f,...s],e,r.currency),r,exports.TradeType.EXACT_OUTPUT),n,De);else if(o>1&&t.length>1){const i=t.slice(0,u).concat(t.slice(u+1,t.length));Oe.bestTradeExactOut(i,e,r,{maxNumResults:n,maxHops:o-1},[f,...s],c,h)}}return h}}const Be={[exports.SupportedChainId.SMART_CHAIN]:new ft(56,"0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c",18,"WBNB","Wrapped BNB"),[exports.SupportedChainId.MUMBAI]:new ft(137,"0x9c3C9283D3e44854697Cd22D3Faa240Cfb032889",18,"WMATIC","Wrapped Matic")};function ke(t){return`0x${t.quotient.toString(16)}`}exports.CurrencyAmount=ie,exports.ENS_REGISTRAR_ADDRESS=p,exports.Ether=dt,exports.FACTORY_ADDRESS=c,exports.FIVE=o,exports.Fraction=ee,exports.INIT_CODE_HASH=f,exports.InsufficientInputAmountError=ye,exports.InsufficientReservesError=we,exports.JSBI=t,exports.MINIMUM_LIQUIDITY=r,exports.MULTICALL2_ADDRESS=g,exports.MaxUint256=l,exports.NativeCurrency=y,exports.ONE=n,exports.Pair=Ie,exports.Percent=se,exports.Price=ue,exports.ROUTER_ADDRESS=d,exports.Route=Se,exports.Router=class{constructor(){}static swapCallParameters(t,e){const r=t.inputAmount.currency.isNative,i=t.outputAmount.currency.isNative;v(!(r&&i),"ETHER_IN_OUT"),v(!("ttl"in e)||e.ttl>0,"TTL");const n=lt(e.recipient),o=ke(t.maximumAmountIn(e.allowedSlippage)),s=ke(t.minimumAmountOut(e.allowedSlippage)),u=t.route.path.map((t=>t.address)),h="ttl"in e?`0x${(Math.floor((new Date).getTime()/1e3)+e.ttl).toString(16)}`:`0x${e.deadline.toString(16)}`,a=Boolean(e.feeOnTransfer);let l="",f=[],c="";switch(t.tradeType){case exports.TradeType.EXACT_INPUT:r?(l=a?"swapExactETHForTokensSupportingFeeOnTransferTokens":"swapExactETHForTokens",f=[s,u,n,h],c=o):i?(l=a?"swapExactTokensForETHSupportingFeeOnTransferTokens":"swapExactTokensForETH",f=[o,s,u,n,h],c="0x0"):(l=a?"swapExactTokensForTokensSupportingFeeOnTransferTokens":"swapExactTokensForTokens",f=[o,s,u,n,h],c="0x0");break;case exports.TradeType.EXACT_OUTPUT:v(!a,"EXACT_OUT_FOT"),r?(l="swapETHForExactTokens",f=[s,u,n,h],c=o):i?(l="swapTokensForExactETH",f=[s,o,u,n,h],c="0x0"):(l="swapTokensForExactTokens",f=[s,o,u,n,h],c="0x0")}return{methodName:l,args:f,value:c}}},exports.Token=ft,exports.Trade=Oe,exports.WETH9=ct,exports.WMATIC=Be,exports.ZERO=i,exports._1000=u,exports._997=s,exports.computePairAddress=xe,exports.computePriceImpact=Te,exports.inputOutputComparator=Re,exports.sortedInsert=Ce,exports.sqrt=Ne,exports.tradeComparator=De,exports.validateAndParseAddress=lt;
//# sourceMappingURL=index.cjs.js.map
